2025-11-17 00:00:19,047 - app_logger - INFO - LLM execution time: 28668.01 ms
2025-11-17 00:00:19,053 - app_logger - DEBUG - ----- RAW STDOUT -----
FINAL_SQL
{
  "sql": "INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Alice', 'Johnson', 'alice.johnson@example.com'), ('Bob', 'Brown', 'bob.brown@example.com'), ('Charlie', 'Davis', 'charlie.davis@example.com'), ('David', 'Miller', 'david.miller@example.com'), ('Eve', 'Wilson', 'eve.wilson@example.com'), ('Frank', 'Moore', 'frank.moore@example.com'), ('Grace', 'Taylor', 'grace.taylor@example.com'), ('Heidi', 'Anderson', 'heidi.anderson@example.com');",
  "explanation": "Inserting 10 mock customers into the customers table."
}


2025-11-17 00:00:19,053 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†ß [K[?25h[?2026l[?2026h[?25l[1G‚†ß [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:00:19,053 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
FINAL_SQL
{
  "sql": "INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Alice', 'Johnson', 'alice.johnson@example.com'), ('Bob', 'Brown', 'bob.brown@example.com'), ('Charlie', 'Davis', 'charlie.davis@example.com'), ('David', 'Miller', 'david.miller@example.com'), ('Eve', 'Wilson', 'eve.wilson@example.com'), ('Frank', 'Moore', 'frank.moore@example.com'), ('Grace', 'Taylor', 'grace.taylor@example.com'), ('Heidi', 'Anderson', 'heidi.anderson@example.com');",
  "explanation": "Inserting 10 mock customers into the customers table."
}
[2K
2025-11-17 00:00:19,054 - app_logger - INFO - Completed POST /llmsql/generate_sql Status=200 Duration=44952.07ms
2025-11-17 00:00:19,055 - app_logger - INFO - REQUEST GET /cache/metadata/status | Body=
2025-11-17 00:00:19,055 - app_logger - INFO - Incoming request: GET /cache/metadata/status
2025-11-17 00:00:19,056 - app_logger - INFO - RESPONSE POST /llmsql/generate_sql | Status=200 | Duration=44953.97ms | Body={"generated_sql":"INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Alice', 'Johnson', 'alice.johnson@example.com'), ('Bob', 'Brown', 'bob.brown@example.com'), ('Charlie', 'Davis', 'charlie.davis@example.com'), ('David', 'Miller', 'david.miller@example.com'), ('Eve', 'Wilson', 'eve.wilson@example.com'), ('Frank', 'Moore', 'frank.moore@example.com'), ('Grace', 'Taylor', 'grace.taylor@example.com'), ('Heidi', 'Anderson', 'heidi.anderson@example.com');","explanation":"Inserting 10 mock customers into the customers table.","preview":"Review this SQL before execution."}
2025-11-17 00:00:19,057 - app_logger - INFO - Completed GET /cache/metadata/status Status=200 Duration=1.65ms
2025-11-17 00:00:19,058 - app_logger - INFO - RESPONSE GET /cache/metadata/status | Status=200 | Duration=2.62ms | Body={"ttl_seconds":300,"schemas":{"public":{"customers":{"cached_at":1763337590.378918,"expires_in":271.3216018676758}}},"total_entries":1}
2025-11-17 00:00:30,344 - app_logger - INFO - REQUEST GET /cache/metadata/status | Body=
2025-11-17 00:00:30,344 - app_logger - INFO - Incoming request: GET /cache/metadata/status
2025-11-17 00:00:30,345 - app_logger - INFO - Completed GET /cache/metadata/status Status=200 Duration=1.01ms
2025-11-17 00:00:30,346 - app_logger - INFO - RESPONSE GET /cache/metadata/status | Status=200 | Duration=1.95ms | Body={"ttl_seconds":300,"schemas":{"public":{"customers":{"cached_at":1763337590.378918,"expires_in":260.0335705280304}}},"total_entries":1}
2025-11-17 00:00:47,689 - app_logger - INFO - REQUEST POST /cache/metadata/invalidate | Body={
  "schema": "public",
  "table": "customers"
}
2025-11-17 00:00:47,689 - app_logger - INFO - Incoming request: POST /cache/metadata/invalidate
2025-11-17 00:00:47,691 - app_logger - WARNING - Invalidated cache entry for public.customers
2025-11-17 00:00:47,692 - app_logger - INFO - Completed POST /cache/metadata/invalidate Status=200 Duration=2.55ms
2025-11-17 00:00:47,692 - app_logger - INFO - RESPONSE POST /cache/metadata/invalidate | Status=200 | Duration=3.47ms | Body={"status":"ok","message":"Invalidated cache for public.customers"}
2025-11-17 00:00:50,348 - app_logger - INFO - REQUEST GET /cache/metadata/status | Body=
2025-11-17 00:00:50,348 - app_logger - INFO - Incoming request: GET /cache/metadata/status
2025-11-17 00:00:50,349 - app_logger - INFO - Completed GET /cache/metadata/status Status=200 Duration=0.79ms
2025-11-17 00:00:50,349 - app_logger - INFO - RESPONSE GET /cache/metadata/status | Status=200 | Duration=1.52ms | Body={"ttl_seconds":300,"schemas":{"public":{}},"total_entries":0}
2025-11-17 00:00:59,439 - app_logger - INFO - REQUEST POST /connections/use/2 | Body={
  "password": "password"
}
2025-11-17 00:00:59,440 - app_logger - INFO - Incoming request: POST /connections/use/2
2025-11-17 00:00:59,455 - app_logger - INFO - Completed POST /connections/use/2 Status=200 Duration=15.29ms
2025-11-17 00:00:59,456 - app_logger - INFO - RESPONSE POST /connections/use/2 | Status=200 | Duration=16.35ms | Body={"message":"Connected successfully to 'Markus'"}
2025-11-17 00:01:01,504 - app_logger - INFO - REQUEST POST /llmsql/generate_sql | Body={
  "user_input": "Necesito insertar en la tabla customers 10 recursos mockeados"
}
2025-11-17 00:01:01,505 - app_logger - INFO - Incoming request: POST /llmsql/generate_sql
2025-11-17 00:01:01,505 - app_logger - INFO - Agent started for: Necesito insertar en la tabla customers 10 recursos mockeados
2025-11-17 00:01:01,505 - app_logger - INFO - Running LLM with prompt (3360 chars)
2025-11-17 00:01:04,834 - app_logger - INFO - LLM execution time: 3328.71 ms
2025-11-17 00:01:04,835 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}


2025-11-17 00:01:04,835 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†¥ [K[?25h[?2026l[?2026h[?25l[1G‚†¥ [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†á [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:01:04,835 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}
[2K
2025-11-17 00:01:04,837 - app_logger - DEBUG - get_schemas result: ['public']
2025-11-17 00:01:04,838 - app_logger - INFO - Running LLM with prompt (3439 chars)
2025-11-17 00:01:12,807 - app_logger - INFO - LLM execution time: 7969.03 ms
2025-11-17 00:01:12,807 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "list_tables",
  "arguments": {
    "schema": "public"
  }
}


2025-11-17 00:01:12,807 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†á [K[?25h[?2026l[?2026h[?25l[1G‚†á [K[?25h[?2026l[?2026h[?25l[1G‚†è [K[?25h[?2026l[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:01:12,807 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "list_tables",
  "arguments": {
    "schema": "public"
  }
}
[2K
2025-11-17 00:01:12,810 - app_logger - DEBUG - get_table_names result for schema=public: ['customers', 'order_items', 'orders', 'payments', 'products', 'team', 'usuario']
2025-11-17 00:01:12,810 - app_logger - INFO - Running LLM with prompt (3606 chars)
2025-11-17 00:01:18,187 - app_logger - INFO - LLM execution time: 5376.93 ms
2025-11-17 00:01:18,188 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL  
{  
  "name": "describe_table",  
  "arguments": {  
    "schema": "public",  
    "table": "customers"  
  }  
}


2025-11-17 00:01:18,188 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:01:18,188 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL  
{  
  "name": "describe_table",  
  "arguments": {  
    "schema": "public",  
    "table": "customers"  
  }  
}
[2K
2025-11-17 00:01:18,188 - app_logger - INFO - describe_table requested for public.customers
2025-11-17 00:01:18,188 - app_logger - INFO - Cache miss for public.customers
2025-11-17 00:01:18,189 - app_logger - INFO - Fetching fresh metadata for public.customers
2025-11-17 00:01:18,191 - app_logger - DEBUG - load_sql result for table_columns.sql: SELECT 
    c.column_name,
    c.data_type,
    c.is_nullable,
    c.column_default,
    CASE WHEN pk.column_name IS NOT NULL THEN TRUE ELSE FALSE END AS is_primary_key,
    fk.foreign_table_name,
    fk.foreign_column_name
FROM information_schema.columns c
LEFT JOIN (
    SELECT 
        kcu.table_schema,
        kcu.table_name,
        kcu.column_name
    FROM information_schema.table_constraints tc
    JOIN information_schema.key_column_usage kcu
        ON tc.constraint_name = kcu.constraint_name
        AND tc.table_schema = kcu.table_schema
    WHERE tc.constraint_type = 'PRIMARY KEY'
) pk
    ON c.table_schema = pk.table_schema
    AND c.table_name = pk.table_name
    AND c.column_name = pk.column_name
LEFT JOIN (
    SELECT
        kcu.table_schema,
        kcu.table_name,
        kcu.column_name,
        ccu.table_name AS foreign_table_name,
        ccu.column_name AS foreign_column_name
    FROM information_schema.table_constraints tc
    JOIN information_schema.key_column_usage kcu
        ON tc.constraint_name = kcu.constraint_name
        AND tc.table_schema = kcu.table_schema
    JOIN information_schema.constraint_column_usage ccu
        ON ccu.constraint_name = tc.constraint_name
        AND ccu.table_schema = tc.table_schema
    WHERE tc.constraint_type = 'FOREIGN KEY'
) fk
    ON c.table_schema = fk.table_schema
    AND c.table_name = fk.table_name
    AND c.column_name = fk.column_name
WHERE c.table_schema = :schema_name
AND c.table_name = :table_name
ORDER BY c.ordinal_position;

2025-11-17 00:01:18,203 - app_logger - DEBUG - get_table_columns result for public.customers: [{'column_name': 'customer_id', 'data_type': 'integer', 'is_nullable': 'NO', 'column_default': "nextval('customers_customer_id_seq'::regclass)", 'is_primary_key': True, 'foreign_table_name': None, 'foreign_column_name': None}, {'column_name': 'first_name', 'data_type': 'character varying', 'is_nullable': 'NO', 'column_default': None, 'is_primary_key': False, 'foreign_table_name': None, 'foreign_column_name': None}, {'column_name': 'last_name', 'data_type': 'character varying', 'is_nullable': 'NO', 'column_default': None, 'is_primary_key': False, 'foreign_table_name': None, 'foreign_column_name': None}, {'column_name': 'email', 'data_type': 'character varying', 'is_nullable': 'NO', 'column_default': None, 'is_primary_key': False, 'foreign_table_name': None, 'foreign_column_name': None}, {'column_name': 'created_at', 'data_type': 'timestamp without time zone', 'is_nullable': 'YES', 'column_default': 'CURRENT_TIMESTAMP', 'is_primary_key': False, 'foreign_table_name': None, 'foreign_column_name': None}]
2025-11-17 00:01:18,205 - app_logger - DEBUG - load_sql result for primary_keys.sql: SELECT 
    tc.table_schema, 
    tc.table_name, 
    kc.column_name
FROM information_schema.table_constraints tc
JOIN information_schema.key_column_usage kc
  ON tc.constraint_name = kc.constraint_name
WHERE tc.constraint_type = 'PRIMARY KEY'
  AND tc.table_schema NOT IN ('information_schema', 'pg_catalog', 'pg_toast')
  AND (:schema_name IS NULL OR tc.table_schema = :schema_name)
ORDER BY tc.table_schema, tc.table_name;

2025-11-17 00:01:18,208 - app_logger - DEBUG - fetch_primary_keys result for schema=public: [{'table_schema': 'public', 'table_name': 'customers', 'column_name': 'customer_id'}, {'table_schema': 'public', 'table_name': 'order_items', 'column_name': 'order_item_id'}, {'table_schema': 'public', 'table_name': 'orders', 'column_name': 'order_id'}, {'table_schema': 'public', 'table_name': 'payments', 'column_name': 'payment_id'}, {'table_schema': 'public', 'table_name': 'products', 'column_name': 'product_id'}, {'table_schema': 'public', 'table_name': 'team', 'column_name': 'id'}, {'table_schema': 'public', 'table_name': 'usuario', 'column_name': 'id'}]
2025-11-17 00:01:18,208 - app_logger - DEBUG - get_primary_keys result for public.customers: ['customer_id']
2025-11-17 00:01:18,210 - app_logger - DEBUG - load_sql result for foreign_keys.sql: SELECT 
    tc.table_schema, 
    tc.table_name, 
    kc.column_name,
    ccu.table_name AS foreign_table_name,
    ccu.column_name AS foreign_column_name
FROM information_schema.table_constraints tc
JOIN information_schema.key_column_usage kc 
  ON tc.constraint_name = kc.constraint_name
JOIN information_schema.constraint_column_usage ccu 
  ON ccu.constraint_name = tc.constraint_name
WHERE tc.constraint_type = 'FOREIGN KEY'
  AND tc.table_schema NOT IN ('information_schema', 'pg_catalog', 'pg_toast')
  AND (:schema_name IS NULL OR tc.table_schema = :schema_name)
ORDER BY tc.table_schema, tc.table_name;

2025-11-17 00:01:18,217 - app_logger - DEBUG - fetch_foreign_keys result for schema=public: [{'table_schema': 'public', 'table_name': 'order_items', 'column_name': 'order_id', 'foreign_table_name': 'orders', 'foreign_column_name': 'order_id'}, {'table_schema': 'public', 'table_name': 'order_items', 'column_name': 'product_id', 'foreign_table_name': 'products', 'foreign_column_name': 'product_id'}, {'table_schema': 'public', 'table_name': 'orders', 'column_name': 'customer_id', 'foreign_table_name': 'customers', 'foreign_column_name': 'customer_id'}, {'table_schema': 'public', 'table_name': 'payments', 'column_name': 'order_id', 'foreign_table_name': 'orders', 'foreign_column_name': 'order_id'}, {'table_schema': 'public', 'table_name': 'team', 'column_name': 'customer_id', 'foreign_table_name': 'customers', 'foreign_column_name': 'customer_id'}]
2025-11-17 00:01:18,217 - app_logger - DEBUG - get_foreign_keys result for public.customers: []
2025-11-17 00:01:18,217 - app_logger - INFO - Stored metadata in cache for public.customers
2025-11-17 00:01:18,218 - app_logger - INFO - Stored fresh metadata for public.customers
2025-11-17 00:01:18,218 - app_logger - INFO - Running LLM with prompt (4797 chars)
2025-11-17 00:01:45,756 - app_logger - INFO - LLM execution time: 27538.50 ms
2025-11-17 00:01:45,757 - app_logger - DEBUG - ----- RAW STDOUT -----
FINAL_SQL
{
  "sql": "INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Alice', 'Johnson', 'alice.johnson@example.com'), ('Bob', 'Brown', 'bob.brown@example.com'), ('Charlie', 'Davis', 'charlie.davis@example.com'), ('Eve', 'Miller', 'eve.miller@example.com'), ('Frank', 'Wilson', 'frank.wilson@example.com'), ('Grace', 'Moore', 'grace.moore@example.com'), ('Heidi', 'Taylor', 'heidi.taylor@example.com'), ('Ivan', 'Anderson', 'ivan.anderson@example.com');",
  "explanation": "Inserting 10 mock customers into the customers table."
}


2025-11-17 00:01:45,757 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†ß [K[?25h[?2026l[?2026h[?25l[1G‚†á [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:01:45,757 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
FINAL_SQL
{
  "sql": "INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Alice', 'Johnson', 'alice.johnson@example.com'), ('Bob', 'Brown', 'bob.brown@example.com'), ('Charlie', 'Davis', 'charlie.davis@example.com'), ('Eve', 'Miller', 'eve.miller@example.com'), ('Frank', 'Wilson', 'frank.wilson@example.com'), ('Grace', 'Moore', 'grace.moore@example.com'), ('Heidi', 'Taylor', 'heidi.taylor@example.com'), ('Ivan', 'Anderson', 'ivan.anderson@example.com');",
  "explanation": "Inserting 10 mock customers into the customers table."
}
[2K
2025-11-17 00:01:45,757 - app_logger - INFO - Completed POST /llmsql/generate_sql Status=200 Duration=44252.96ms
2025-11-17 00:01:45,758 - app_logger - INFO - RESPONSE POST /llmsql/generate_sql | Status=200 | Duration=44254.12ms | Body={"generated_sql":"INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Alice', 'Johnson', 'alice.johnson@example.com'), ('Bob', 'Brown', 'bob.brown@example.com'), ('Charlie', 'Davis', 'charlie.davis@example.com'), ('Eve', 'Miller', 'eve.miller@example.com'), ('Frank', 'Wilson', 'frank.wilson@example.com'), ('Grace', 'Moore', 'grace.moore@example.com'), ('Heidi', 'Taylor', 'heidi.taylor@example.com'), ('Ivan', 'Anderson', 'ivan.anderson@example.com');","explanation":"Inserting 10 mock customers into the customers table.","preview":"Review this SQL before execution."}
2025-11-17 00:01:52,859 - app_logger - INFO - REQUEST GET /cache/metadata/status | Body=
2025-11-17 00:01:52,860 - app_logger - INFO - Incoming request: GET /cache/metadata/status
2025-11-17 00:01:52,862 - app_logger - INFO - Completed GET /cache/metadata/status Status=200 Duration=1.75ms
2025-11-17 00:01:52,862 - app_logger - INFO - RESPONSE GET /cache/metadata/status | Status=200 | Duration=3.11ms | Body={"ttl_seconds":300,"schemas":{"public":{"customers":{"cached_at":1763337678.2179751,"expires_in":265.35607504844666}}},"total_entries":1}
2025-11-17 00:03:38,646 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:03:46,684 - app_logger - INFO - REQUEST GET /cache/metadata/status | Body=
2025-11-17 00:03:46,685 - app_logger - INFO - Incoming request: GET /cache/metadata/status
2025-11-17 00:03:46,686 - app_logger - INFO - Completed GET /cache/metadata/status Status=200 Duration=1.62ms
2025-11-17 00:03:46,687 - app_logger - INFO - RESPONSE GET /cache/metadata/status | Status=200 | Duration=2.37ms | Body={"ttl_seconds":300,"schemas":{},"total_entries":0}
2025-11-17 00:03:50,653 - app_logger - INFO - REQUEST POST /llmsql/generate_sql | Body={
  "user_input": "Necesito insertar en la tabla customers 10 recursos mockeados"
}
2025-11-17 00:03:50,654 - app_logger - INFO - Incoming request: POST /llmsql/generate_sql
2025-11-17 00:03:50,656 - app_logger - INFO - Agent started for: Necesito insertar en la tabla customers 10 recursos mockeados
2025-11-17 00:03:50,656 - app_logger - INFO - Running LLM with prompt (3360 chars)
2025-11-17 00:03:57,236 - app_logger - INFO - LLM execution time: 6580.23 ms
2025-11-17 00:03:57,237 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}


2025-11-17 00:03:57,237 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†ß [K[?25h[?2026l[?2026h[?25l[1G‚†ß [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:03:57,237 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}
[2K
2025-11-17 00:03:57,238 - app_logger - INFO - Completed POST /llmsql/generate_sql Status=500 Duration=6583.55ms
2025-11-17 00:03:57,238 - app_logger - INFO - RESPONSE POST /llmsql/generate_sql | Status=500 | Duration=6584.85ms | Body={"detail":"Agent error: No active database connection."}
2025-11-17 00:03:59,938 - app_logger - INFO - REQUEST POST /connections/use/2 | Body={
  "password": "password"
}
2025-11-17 00:03:59,938 - app_logger - INFO - Incoming request: POST /connections/use/2
2025-11-17 00:04:00,300 - app_logger - INFO - Completed POST /connections/use/2 Status=200 Duration=361.88ms
2025-11-17 00:04:00,300 - app_logger - INFO - RESPONSE POST /connections/use/2 | Status=200 | Duration=362.79ms | Body={"message":"Connected successfully to 'Markus'"}
2025-11-17 00:04:02,813 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:04:02,878 - app_logger - INFO - REQUEST POST /llmsql/generate_sql | Body={
  "user_input": "Necesito insertar en la tabla customers 10 recursos mockeados"
}
2025-11-17 00:04:02,878 - app_logger - INFO - Incoming request: POST /llmsql/generate_sql
2025-11-17 00:04:02,880 - app_logger - INFO - Agent started for: Necesito insertar en la tabla customers 10 recursos mockeados
2025-11-17 00:04:02,880 - app_logger - INFO - Running LLM with prompt (3360 chars)
2025-11-17 00:04:05,554 - app_logger - INFO - LLM execution time: 2674.26 ms
2025-11-17 00:04:05,554 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}


2025-11-17 00:04:05,555 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:04:05,555 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}
[2K
2025-11-17 00:04:05,556 - app_logger - INFO - Completed POST /llmsql/generate_sql Status=500 Duration=2677.59ms
2025-11-17 00:04:05,556 - app_logger - INFO - RESPONSE POST /llmsql/generate_sql | Status=500 | Duration=2678.41ms | Body={"detail":"Agent error: No active database connection."}
2025-11-17 00:04:52,525 - app_logger - INFO - REQUEST POST /connections/use/2 | Body={
  "password": "password"
}
2025-11-17 00:04:52,526 - app_logger - INFO - Incoming request: POST /connections/use/2
2025-11-17 00:04:52,872 - app_logger - INFO - Completed POST /connections/use/2 Status=200 Duration=345.98ms
2025-11-17 00:04:52,872 - app_logger - INFO - RESPONSE POST /connections/use/2 | Status=200 | Duration=347.00ms | Body={"message":"Connected successfully to 'Markus'"}
2025-11-17 00:04:54,661 - app_logger - INFO - REQUEST POST /llmsql/generate_sql | Body={
  "user_input": "Necesito insertar en la tabla customers 10 recursos mockeados"
}
2025-11-17 00:04:54,661 - app_logger - INFO - Incoming request: POST /llmsql/generate_sql
2025-11-17 00:04:54,662 - app_logger - INFO - Agent started for: Necesito insertar en la tabla customers 10 recursos mockeados
2025-11-17 00:04:54,662 - app_logger - INFO - Running LLM with prompt (3360 chars)
2025-11-17 00:04:57,532 - app_logger - INFO - LLM execution time: 2869.62 ms
2025-11-17 00:04:57,532 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}


2025-11-17 00:04:57,533 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:04:57,533 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}
[2K
2025-11-17 00:04:57,536 - app_logger - DEBUG - get_schemas result: ['public']
2025-11-17 00:04:57,536 - app_logger - INFO - Running LLM with prompt (3439 chars)
2025-11-17 00:05:05,589 - app_logger - INFO - LLM execution time: 8052.42 ms
2025-11-17 00:05:05,589 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "list_tables",
  "arguments": {
    "schema": "public"
  }
}


2025-11-17 00:05:05,590 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†ß [K[?25h[?2026l[?2026h[?25l[1G‚†á [K[?25h[?2026l[?2026h[?25l[1G‚†ã [K[?25h[?2026l[?2026h[?25l[1G‚†ã [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:05:05,590 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "list_tables",
  "arguments": {
    "schema": "public"
  }
}
[2K
2025-11-17 00:05:05,593 - app_logger - DEBUG - get_table_names result for schema=public: ['customers', 'order_items', 'orders', 'payments', 'products', 'team', 'usuario']
2025-11-17 00:05:05,593 - app_logger - INFO - Running LLM with prompt (3606 chars)
2025-11-17 00:05:10,469 - app_logger - INFO - LLM execution time: 4876.04 ms
2025-11-17 00:05:10,470 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "describe_table",
  "arguments": {
    "schema": "public",
    "table": "customers"
  }
}


2025-11-17 00:05:10,470 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:05:10,470 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "describe_table",
  "arguments": {
    "schema": "public",
    "table": "customers"
  }
}
[2K
2025-11-17 00:05:10,470 - app_logger - INFO - describe_table requested for public.customers
2025-11-17 00:05:10,471 - app_logger - INFO - Cache miss for public.customers
2025-11-17 00:05:10,471 - app_logger - INFO - Fetching fresh metadata for public.customers
2025-11-17 00:05:10,473 - app_logger - DEBUG - load_sql result for table_columns.sql: SELECT 
    c.column_name,
    c.data_type,
    c.is_nullable,
    c.column_default,
    CASE WHEN pk.column_name IS NOT NULL THEN TRUE ELSE FALSE END AS is_primary_key,
    fk.foreign_table_name,
    fk.foreign_column_name
FROM information_schema.columns c
LEFT JOIN (
    SELECT 
        kcu.table_schema,
        kcu.table_name,
        kcu.column_name
    FROM information_schema.table_constraints tc
    JOIN information_schema.key_column_usage kcu
        ON tc.constraint_name = kcu.constraint_name
        AND tc.table_schema = kcu.table_schema
    WHERE tc.constraint_type = 'PRIMARY KEY'
) pk
    ON c.table_schema = pk.table_schema
    AND c.table_name = pk.table_name
    AND c.column_name = pk.column_name
LEFT JOIN (
    SELECT
        kcu.table_schema,
        kcu.table_name,
        kcu.column_name,
        ccu.table_name AS foreign_table_name,
        ccu.column_name AS foreign_column_name
    FROM information_schema.table_constraints tc
    JOIN information_schema.key_column_usage kcu
        ON tc.constraint_name = kcu.constraint_name
        AND tc.table_schema = kcu.table_schema
    JOIN information_schema.constraint_column_usage ccu
        ON ccu.constraint_name = tc.constraint_name
        AND ccu.table_schema = tc.table_schema
    WHERE tc.constraint_type = 'FOREIGN KEY'
) fk
    ON c.table_schema = fk.table_schema
    AND c.table_name = fk.table_name
    AND c.column_name = fk.column_name
WHERE c.table_schema = :schema_name
AND c.table_name = :table_name
ORDER BY c.ordinal_position;

2025-11-17 00:05:10,484 - app_logger - DEBUG - get_table_columns result for public.customers: [{'column_name': 'customer_id', 'data_type': 'integer', 'is_nullable': 'NO', 'column_default': "nextval('customers_customer_id_seq'::regclass)", 'is_primary_key': True, 'foreign_table_name': None, 'foreign_column_name': None}, {'column_name': 'first_name', 'data_type': 'character varying', 'is_nullable': 'NO', 'column_default': None, 'is_primary_key': False, 'foreign_table_name': None, 'foreign_column_name': None}, {'column_name': 'last_name', 'data_type': 'character varying', 'is_nullable': 'NO', 'column_default': None, 'is_primary_key': False, 'foreign_table_name': None, 'foreign_column_name': None}, {'column_name': 'email', 'data_type': 'character varying', 'is_nullable': 'NO', 'column_default': None, 'is_primary_key': False, 'foreign_table_name': None, 'foreign_column_name': None}, {'column_name': 'created_at', 'data_type': 'timestamp without time zone', 'is_nullable': 'YES', 'column_default': 'CURRENT_TIMESTAMP', 'is_primary_key': False, 'foreign_table_name': None, 'foreign_column_name': None}]
2025-11-17 00:05:10,487 - app_logger - DEBUG - load_sql result for primary_keys.sql: SELECT 
    tc.table_schema, 
    tc.table_name, 
    kc.column_name
FROM information_schema.table_constraints tc
JOIN information_schema.key_column_usage kc
  ON tc.constraint_name = kc.constraint_name
WHERE tc.constraint_type = 'PRIMARY KEY'
  AND tc.table_schema NOT IN ('information_schema', 'pg_catalog', 'pg_toast')
  AND (:schema_name IS NULL OR tc.table_schema = :schema_name)
ORDER BY tc.table_schema, tc.table_name;

2025-11-17 00:05:10,490 - app_logger - DEBUG - fetch_primary_keys result for schema=public: [{'table_schema': 'public', 'table_name': 'customers', 'column_name': 'customer_id'}, {'table_schema': 'public', 'table_name': 'order_items', 'column_name': 'order_item_id'}, {'table_schema': 'public', 'table_name': 'orders', 'column_name': 'order_id'}, {'table_schema': 'public', 'table_name': 'payments', 'column_name': 'payment_id'}, {'table_schema': 'public', 'table_name': 'products', 'column_name': 'product_id'}, {'table_schema': 'public', 'table_name': 'team', 'column_name': 'id'}, {'table_schema': 'public', 'table_name': 'usuario', 'column_name': 'id'}]
2025-11-17 00:05:10,491 - app_logger - DEBUG - get_primary_keys result for public.customers: ['customer_id']
2025-11-17 00:05:10,493 - app_logger - DEBUG - load_sql result for foreign_keys.sql: SELECT 
    tc.table_schema, 
    tc.table_name, 
    kc.column_name,
    ccu.table_name AS foreign_table_name,
    ccu.column_name AS foreign_column_name
FROM information_schema.table_constraints tc
JOIN information_schema.key_column_usage kc 
  ON tc.constraint_name = kc.constraint_name
JOIN information_schema.constraint_column_usage ccu 
  ON ccu.constraint_name = tc.constraint_name
WHERE tc.constraint_type = 'FOREIGN KEY'
  AND tc.table_schema NOT IN ('information_schema', 'pg_catalog', 'pg_toast')
  AND (:schema_name IS NULL OR tc.table_schema = :schema_name)
ORDER BY tc.table_schema, tc.table_name;

2025-11-17 00:05:10,501 - app_logger - DEBUG - fetch_foreign_keys result for schema=public: [{'table_schema': 'public', 'table_name': 'order_items', 'column_name': 'order_id', 'foreign_table_name': 'orders', 'foreign_column_name': 'order_id'}, {'table_schema': 'public', 'table_name': 'order_items', 'column_name': 'product_id', 'foreign_table_name': 'products', 'foreign_column_name': 'product_id'}, {'table_schema': 'public', 'table_name': 'orders', 'column_name': 'customer_id', 'foreign_table_name': 'customers', 'foreign_column_name': 'customer_id'}, {'table_schema': 'public', 'table_name': 'payments', 'column_name': 'order_id', 'foreign_table_name': 'orders', 'foreign_column_name': 'order_id'}, {'table_schema': 'public', 'table_name': 'team', 'column_name': 'customer_id', 'foreign_table_name': 'customers', 'foreign_column_name': 'customer_id'}]
2025-11-17 00:05:10,501 - app_logger - DEBUG - get_foreign_keys result for public.customers: []
2025-11-17 00:05:10,501 - app_logger - INFO - Stored metadata in cache for public.customers
2025-11-17 00:05:10,501 - app_logger - INFO - Stored fresh metadata for public.customers
2025-11-17 00:05:10,502 - app_logger - INFO - Running LLM with prompt (4797 chars)
2025-11-17 00:05:39,924 - app_logger - INFO - LLM execution time: 29421.89 ms
2025-11-17 00:05:39,924 - app_logger - DEBUG - ----- RAW STDOUT -----
FINAL_SQL
{
  "sql": "INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Emily', 'Johnson', 'emily.johnson@example.com'), ('Michael', 'Brown', 'michael.brown@example.com'), ('Sarah', 'Davis', 'sarah.davis@example.com'), ('Robert', 'Wilson', 'robert.wilson@example.com'), ('Linda', 'Moore', 'linda.moore@example.com'), ('William', 'Taylor', 'william.taylor@example.com'), ('Jessica', 'Anderson', 'jessica.anderson@example.com'), ('James', 'Martinez', 'james.martinez@example.com');",
  "explanation": "Inserting 10 mock customers into the customers table."
}


2025-11-17 00:05:39,924 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†¥ [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†ß [K[?25h[?2026l[?2026h[?25l[1G‚†á [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:05:39,924 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
FINAL_SQL
{
  "sql": "INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Emily', 'Johnson', 'emily.johnson@example.com'), ('Michael', 'Brown', 'michael.brown@example.com'), ('Sarah', 'Davis', 'sarah.davis@example.com'), ('Robert', 'Wilson', 'robert.wilson@example.com'), ('Linda', 'Moore', 'linda.moore@example.com'), ('William', 'Taylor', 'william.taylor@example.com'), ('Jessica', 'Anderson', 'jessica.anderson@example.com'), ('James', 'Martinez', 'james.martinez@example.com');",
  "explanation": "Inserting 10 mock customers into the customers table."
}
[2K
2025-11-17 00:05:39,925 - app_logger - INFO - Completed POST /llmsql/generate_sql Status=200 Duration=45263.86ms
2025-11-17 00:05:39,925 - app_logger - INFO - RESPONSE POST /llmsql/generate_sql | Status=200 | Duration=45264.88ms | Body={"generated_sql":"INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Emily', 'Johnson', 'emily.johnson@example.com'), ('Michael', 'Brown', 'michael.brown@example.com'), ('Sarah', 'Davis', 'sarah.davis@example.com'), ('Robert', 'Wilson', 'robert.wilson@example.com'), ('Linda', 'Moore', 'linda.moore@example.com'), ('William', 'Taylor', 'william.taylor@example.com'), ('Jessica', 'Anderson', 'jessica.anderson@example.com'), ('James', 'Martinez', 'james.martinez@example.com');","explanation":"Inserting 10 mock customers into the customers table.","preview":"Review this SQL before execution."}
2025-11-17 00:05:51,807 - app_logger - INFO - REQUEST GET /cache/metadata/status | Body=
2025-11-17 00:05:51,807 - app_logger - INFO - Incoming request: GET /cache/metadata/status
2025-11-17 00:05:51,808 - app_logger - INFO - Completed GET /cache/metadata/status Status=200 Duration=1.11ms
2025-11-17 00:05:51,809 - app_logger - INFO - RESPONSE GET /cache/metadata/status | Status=200 | Duration=2.20ms | Body={"ttl_seconds":300,"schemas":{"public":{"customers":{"cached_at":1763337910.5017555,"expires_in":258.69340801239014,"metadata":{"columns":[{"column_name":"customer_id","data_type":"integer","is_nullable":"NO","column_default":"nextval('customers_customer_id_seq'::regclass)","is_primary_key":true,"foreign_table_name":null,"foreign_column_name":null},{"column_name":"first_name","data_type":"character varying","is_nullable":"NO","column_default":null,"is_primary_key":false,"foreign_table_name":null,"foreign_column_name":null},{"column_name":"last_name","data_type":"character varying","is_nullable":"NO","column_default":null,"is_primary_key":false,"foreign_table_name":null,"foreign_column_name":null},{"column_name":"email","data_type":"character varying","is_nullable":"NO","column_default":null,"is_primary_key":false,"foreign_table_name":null,"foreign_column_name":null},{"column_name":"created_at","data_type":"timestamp without time zone","is_nullable":"YES","column_default":"CURRENT_TIMESTAMP","is_primary_key":false,"foreign_table_name":null,"foreign_column_name":null}],"primary_keys":["customer_id"],"foreign_keys":[]}}}},"total_entries":1}
2025-11-17 00:05:59,716 - app_logger - INFO - REQUEST POST /llmsql/generate_sql | Body={
  "user_input": "Necesito insertar en la tabla customers 10 recursos mockeados"
}
2025-11-17 00:05:59,716 - app_logger - INFO - Incoming request: POST /llmsql/generate_sql
2025-11-17 00:05:59,717 - app_logger - INFO - Agent started for: Necesito insertar en la tabla customers 10 recursos mockeados
2025-11-17 00:05:59,717 - app_logger - INFO - Running LLM with prompt (3360 chars)
2025-11-17 00:06:02,811 - app_logger - INFO - LLM execution time: 3093.34 ms
2025-11-17 00:06:02,811 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}


2025-11-17 00:06:02,811 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†¥ [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†á [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:06:02,812 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "list_schemas",
  "arguments": {}
}
[2K
2025-11-17 00:06:02,813 - app_logger - DEBUG - get_schemas result: ['public']
2025-11-17 00:06:02,814 - app_logger - INFO - Running LLM with prompt (3439 chars)
2025-11-17 00:06:10,991 - app_logger - INFO - LLM execution time: 8177.31 ms
2025-11-17 00:06:10,991 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "list_tables",
  "arguments": {
    "schema": "public"
  }
}


2025-11-17 00:06:10,992 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†¥ [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†ß [K[?25h[?2026l[?2026h[?25l[1G‚†á [K[?25h[?2026l[?2026h[?25l[1G‚†è [K[?25h[?2026l[?2026h[?25l[1G‚†ã [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:06:10,992 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "list_tables",
  "arguments": {
    "schema": "public"
  }
}
[2K
2025-11-17 00:06:10,994 - app_logger - DEBUG - get_table_names result for schema=public: ['customers', 'order_items', 'orders', 'payments', 'products', 'team', 'usuario']
2025-11-17 00:06:10,994 - app_logger - INFO - Running LLM with prompt (3606 chars)
2025-11-17 00:06:15,846 - app_logger - INFO - LLM execution time: 4851.05 ms
2025-11-17 00:06:15,846 - app_logger - DEBUG - ----- RAW STDOUT -----
TOOL_CALL
{
  "name": "describe_table",
  "arguments": {
    "schema": "public",
    "table": "customers"
  }
}


2025-11-17 00:06:15,846 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ã [K[?25h[?2026l[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?2026h[?25l[1G‚†º [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:06:15,846 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
TOOL_CALL
{
  "name": "describe_table",
  "arguments": {
    "schema": "public",
    "table": "customers"
  }
}
[2K
2025-11-17 00:06:15,846 - app_logger - INFO - describe_table requested for public.customers
2025-11-17 00:06:15,847 - app_logger - INFO - Cache hit for public.customers
2025-11-17 00:06:15,847 - app_logger - INFO - Returning cached metadata for public.customers
2025-11-17 00:06:15,847 - app_logger - INFO - Running LLM with prompt (4797 chars)
2025-11-17 00:06:43,591 - app_logger - INFO - LLM execution time: 27744.49 ms
2025-11-17 00:06:43,592 - app_logger - DEBUG - ----- RAW STDOUT -----
FINAL_SQL
{
  "sql": "INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Alice', 'Johnson', 'alice.johnson@example.com'), ('Bob', 'Brown', 'bob.brown@example.com'), ('Charlie', 'Davis', 'charlie.davis@example.com'), ('Eve', 'Miller', 'eve.miller@example.com'), ('Frank', 'Wilson', 'frank.wilson@example.com'), ('Grace', 'Moore', 'grace.moore@example.com'), ('Heidi', 'Taylor', 'heidi.taylor@example.com'), ('Ivan', 'Anderson', 'ivan.anderson@example.com');",
  "explanation": "Inserting 10 mock customer records into the customers table."
}


2025-11-17 00:06:43,592 - app_logger - DEBUG - ----- RAW STDERR -----
[?2026h[?25l[1G‚†ô [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†π [K[?25h[?2026l[?2026h[?25l[1G‚†∏ [K[?25h[?2026l[?2026h[?25l[1G‚†¥ [K[?25h[?2026l[?2026h[?25l[1G‚†¥ [K[?25h[?2026l[?2026h[?25l[1G‚†¶ [K[?25h[?2026l[?2026h[?25l[1G‚†á [K[?25h[?2026l[?25l[?2026h[?25l[1G[K[?25h[?2026l[2K[1G[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h
2025-11-17 00:06:43,592 - app_logger - DEBUG - ----- CLEANED MODEL OUTPUT -----
FINAL_SQL
{
  "sql": "INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Alice', 'Johnson', 'alice.johnson@example.com'), ('Bob', 'Brown', 'bob.brown@example.com'), ('Charlie', 'Davis', 'charlie.davis@example.com'), ('Eve', 'Miller', 'eve.miller@example.com'), ('Frank', 'Wilson', 'frank.wilson@example.com'), ('Grace', 'Moore', 'grace.moore@example.com'), ('Heidi', 'Taylor', 'heidi.taylor@example.com'), ('Ivan', 'Anderson', 'ivan.anderson@example.com');",
  "explanation": "Inserting 10 mock customer records into the customers table."
}
[2K
2025-11-17 00:06:43,593 - app_logger - INFO - Completed POST /llmsql/generate_sql Status=200 Duration=43876.35ms
2025-11-17 00:06:43,593 - app_logger - INFO - RESPONSE POST /llmsql/generate_sql | Status=200 | Duration=43877.12ms | Body={"generated_sql":"INSERT INTO public.customers (first_name, last_name, email) VALUES ('John', 'Doe', 'john.doe@example.com'), ('Jane', 'Smith', 'jane.smith@example.com'), ('Alice', 'Johnson', 'alice.johnson@example.com'), ('Bob', 'Brown', 'bob.brown@example.com'), ('Charlie', 'Davis', 'charlie.davis@example.com'), ('Eve', 'Miller', 'eve.miller@example.com'), ('Frank', 'Wilson', 'frank.wilson@example.com'), ('Grace', 'Moore', 'grace.moore@example.com'), ('Heidi', 'Taylor', 'heidi.taylor@example.com'), ('Ivan', 'Anderson', 'ivan.anderson@example.com');","explanation":"Inserting 10 mock customer records into the customers table.","preview":"Review this SQL before execution."}
2025-11-17 00:06:50,018 - app_logger - INFO - REQUEST GET /cache/metadata/status | Body=
2025-11-17 00:06:50,019 - app_logger - INFO - Incoming request: GET /cache/metadata/status
2025-11-17 00:06:50,020 - app_logger - INFO - Completed GET /cache/metadata/status Status=200 Duration=0.91ms
2025-11-17 00:06:50,020 - app_logger - INFO - RESPONSE GET /cache/metadata/status | Status=200 | Duration=1.80ms | Body={"ttl_seconds":300,"schemas":{"public":{"customers":{"cached_at":1763337910.5017555,"expires_in":200.4819405078888,"metadata":{"columns":[{"column_name":"customer_id","data_type":"integer","is_nullable":"NO","column_default":"nextval('customers_customer_id_seq'::regclass)","is_primary_key":true,"foreign_table_name":null,"foreign_column_name":null},{"column_name":"first_name","data_type":"character varying","is_nullable":"NO","column_default":null,"is_primary_key":false,"foreign_table_name":null,"foreign_column_name":null},{"column_name":"last_name","data_type":"character varying","is_nullable":"NO","column_default":null,"is_primary_key":false,"foreign_table_name":null,"foreign_column_name":null},{"column_name":"email","data_type":"character varying","is_nullable":"NO","column_default":null,"is_primary_key":false,"foreign_table_name":null,"foreign_column_name":null},{"column_name":"created_at","data_type":"timestamp without time zone","is_nullable":"YES","column_default":"CURRENT_TIMESTAMP","is_primary_key":false,"foreign_table_name":null,"foreign_column_name":null}],"primary_keys":["customer_id"],"foreign_keys":[]}}}},"total_entries":1}
2025-11-17 00:10:04,683 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:10:05,704 - app_logger - INFO - REQUEST GET /docs | Body=
2025-11-17 00:10:05,704 - app_logger - INFO - Incoming request: GET /docs
2025-11-17 00:10:05,705 - app_logger - INFO - Completed GET /docs Status=200 Duration=0.62ms
2025-11-17 00:10:05,705 - app_logger - INFO - RESPONSE GET /docs | Status=200 | Duration=1.43ms | Body=
    <!DOCTYPE html>
    <html>
    <head>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css">
    <link rel="shortcut icon" href="https://fastapi.tiangolo.com/img/favicon.png">
    <title>LLM-DB CONNECTOR API - Swagger UI</title>
    </head>
    <body>
    <div id="swagger-ui">
    </div>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
    <!-- `SwaggerUIBundle` is now available on the page -->
    <script>
    const ui = SwaggerUIBundle({
        url: '/openapi.json',
    "dom_id": "#swagger-ui",
"layout": "BaseLayout",
"deepLinking": true,
"showExtensions": true,
"showCommonExtensions": true,
oauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',
    presets: [
        SwaggerUIBundle.presets.apis,
        SwaggerUIBundle.SwaggerUIStandalonePreset
        ],
    })
    </script>
    </body>
    </html>
    
2025-11-17 00:10:05,784 - app_logger - INFO - REQUEST GET /openapi.json | Body=
2025-11-17 00:10:05,784 - app_logger - INFO - Incoming request: GET /openapi.json
2025-11-17 00:10:05,808 - app_logger - INFO - Completed GET /openapi.json Status=200 Duration=23.29ms
2025-11-17 00:10:05,808 - app_logger - INFO - RESPONSE GET /openapi.json | Status=200 | Duration=24.29ms | Body={"openapi":"3.1.0","info":{"title":"LLM-DB CONNECTOR API","version":"1.0.0"},"paths":{"/connections/save":{"post":{"tags":["Database Connections"],"summary":"Save Connection","operationId":"save_connection_connections_save_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PGDBConnector"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/list":{"get":{"tags":["Database Connections"],"summary":"List Connections","operationId":"list_connections_connections_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/connections/{connection_id}":{"delete":{"tags":["Database Connections"],"summary":"Delete Connection","description":"Delete a connection by ID.","operationId":"delete_connection_connections__connection_id__delete","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/use/{connection_id}":{"post":{"tags":["Database Connections"],"summary":"Use Connection","description":"Activate and persist a connection by ID.","operationId":"use_connection_connections_use__connection_id__post","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/disconnect":{"post":{"tags":["Database Connections"],"summary":"Disconnect","description":"Close current connection.","operationId":"disconnect_connections_disconnect_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/llmsql/generate_sql":{"post":{"tags":["SQL Assistant"],"summary":"Generate Sql","description":"Generates SQL using the intelligent multi-step agent.\nIt will automatically inspect the DB using tools if needed.","operationId":"generate_sql_llmsql_generate_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/execute_sql":{"post":{"tags":["SQL Assistant"],"summary":"Execute Sql","description":"Executes the SQL safely through the internal database service.","operationId":"execute_sql_llmsql_execute_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/history":{"get":{"tags":["SQL Assistant"],"summary":"Get Sql History","operationId":"get_sql_history_llmsql_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/db/schema":{"get":{"tags":["Database Schema"],"summary":"Get Schema Grouped","description":"Returns the database schema grouped by table,\noptionally filtered by schema name (e.g. ?schema=public).","operationId":"get_schema_grouped_db_schema_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Schema name to filter (e.g. 'public')","title":"Schema"},"description":"Schema name to filter (e.g. 'public')"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/schemas":{"get":{"tags":["Database Schema"],"summary":"List Schemas","description":"Return all schema names in the database.","operationId":"list_schemas_db_schemas_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/db/tables":{"get":{"tags":["Database Schema"],"summary":"List Tables","description":"Return all table names from the given schema.","operationId":"list_tables_db_tables_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"type":"string","default":"public","title":"Schema"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/columns":{"get":{"tags":["Database Schema"],"summary":"Get Table Columns","description":"Return all columns for a specific table, including data type,\nnullability, default value, and key relationships.","operationId":"get_table_columns_db_columns_get","parameters":[{"name":"table","in":"query","required":true,"schema":{"type":"string","description":"Table name to extract columns from","title":"Table"},"description":"Table name to extract columns from"},{"name":"schema","in":"query","required":false,"schema":{"type":"string","description":"Schema name (default: public)","default":"public","title":"Schema"},"description":"Schema name (default: public)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/invalidate":{"post":{"tags":["cache"],"summary":"Invalidate Metadata Cache","operationId":"invalidate_metadata_cache_cache_metadata_invalidate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataCacheInvalidateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/status":{"get":{"tags":["cache"],"summary":"Get Metadata Cache Status","operationId":"get_metadata_cache_status_cache_metadata_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/cache/cache/ui":{"get":{"tags":["cache"],"summary":"Cache Ui","operationId":"cache_ui_cache_cache_ui_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"ExecuteRequest":{"properties":{"sql":{"type":"string","title":"Sql"}},"type":"object","required":["sql"],"title":"ExecuteRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MetadataCacheInvalidateRequest":{"properties":{"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schema"},"table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Table"}},"type":"object","title":"MetadataCacheInvalidateRequest"},"PGDBConnector":{"properties":{"host":{"type":"string","title":"Host"},"port":{"type":"integer","title":"Port"},"user":{"type":"string","title":"User"},"password":{"type":"string","title":"Password"},"database":{"type":"string","title":"Database"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["host","port","user","password","database"],"title":"PGDBConnector"},"PasswordBody":{"properties":{"password":{"type":"string","title":"Password"}},"type":"object","required":["password"],"title":"PasswordBody"},"QueryRequest":{"properties":{"user_input":{"type":"string","title":"User Input"}},"type":"object","required":["user_input"],"title":"QueryRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
2025-11-17 00:10:09,738 - app_logger - INFO - REQUEST GET /cache/cache/ui | Body=
2025-11-17 00:10:09,739 - app_logger - INFO - Incoming request: GET /cache/cache/ui
2025-11-17 00:10:09,740 - app_logger - INFO - Completed GET /cache/cache/ui Status=200 Duration=1.17ms
2025-11-17 00:10:09,740 - app_logger - INFO - RESPONSE GET /cache/cache/ui | Status=200 | Duration=1.96ms | Body=
    <html>
      <head>
        <title>Metadata Cache Viewer</title>

        <!-- TailwindCSS CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
      </head>

      <body class="bg-gray-900 text-gray-200 p-8 font-mono">

        <h1 class="text-3xl font-bold mb-6">Metadata Cache Viewer</h1>

        <!-- Invalidate ALL -->
        <form action="/cache/metadata/invalidate_all" method="post" class="mb-6">
            <button class="px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg shadow">
                Invalidate ALL Cache
            </button>
        </form>

        <h2 class="text-2xl mb-4">Schemas</h2>

        <div class="space-y-4">
    
        </div>

        <h2 class="text-2xl mt-8 mb-3">Raw Cache Dump</h2>
        <pre class="bg-gray-800 text-gray-100 p-6 rounded-lg overflow-x-auto text-sm">{
  "ttl_seconds": 300,
  "schemas": {},
  "total_entries": 0
}</pre>

      </body>
    </html>
    
2025-11-17 00:10:27,332 - app_logger - INFO - REQUEST GET /cache | Body=
2025-11-17 00:10:27,332 - app_logger - INFO - Incoming request: GET /cache
2025-11-17 00:10:27,333 - app_logger - INFO - Completed GET /cache Status=404 Duration=0.58ms
2025-11-17 00:10:27,333 - app_logger - INFO - RESPONSE GET /cache | Status=404 | Duration=1.49ms | Body={"detail":"Not Found"}
2025-11-17 00:10:37,425 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:10:40,479 - app_logger - INFO - REQUEST GET /cache/ui | Body=
2025-11-17 00:10:40,479 - app_logger - INFO - Incoming request: GET /cache/ui
2025-11-17 00:10:40,480 - app_logger - INFO - Completed GET /cache/ui Status=200 Duration=1.16ms
2025-11-17 00:10:40,481 - app_logger - INFO - RESPONSE GET /cache/ui | Status=200 | Duration=1.97ms | Body=
    <html>
      <head>
        <title>Metadata Cache Viewer</title>

        <!-- TailwindCSS CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
      </head>

      <body class="bg-gray-900 text-gray-200 p-8 font-mono">

        <h1 class="text-3xl font-bold mb-6">Metadata Cache Viewer</h1>

        <!-- Invalidate ALL -->
        <form action="/cache/metadata/invalidate_all" method="post" class="mb-6">
            <button class="px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg shadow">
                Invalidate ALL Cache
            </button>
        </form>

        <h2 class="text-2xl mb-4">Schemas</h2>

        <div class="space-y-4">
    
        </div>

        <h2 class="text-2xl mt-8 mb-3">Raw Cache Dump</h2>
        <pre class="bg-gray-800 text-gray-100 p-6 rounded-lg overflow-x-auto text-sm">{
  "ttl_seconds": 300,
  "schemas": {},
  "total_entries": 0
}</pre>

      </body>
    </html>
    
2025-11-17 00:10:56,926 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:13:46,004 - app_logger - INFO - REQUEST GET /admin | Body=
2025-11-17 00:13:46,004 - app_logger - INFO - Incoming request: GET /admin
2025-11-17 00:13:46,005 - app_logger - INFO - Completed GET /admin Status=404 Duration=0.96ms
2025-11-17 00:13:46,005 - app_logger - INFO - RESPONSE GET /admin | Status=404 | Duration=2.03ms | Body={"detail":"Not Found"}
2025-11-17 00:13:48,539 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 00:13:48,540 - app_logger - INFO - Incoming request: GET /
2025-11-17 00:13:48,540 - app_logger - INFO - Completed GET / Status=404 Duration=0.62ms
2025-11-17 00:13:48,541 - app_logger - INFO - RESPONSE GET / | Status=404 | Duration=1.55ms | Body={"detail":"Not Found"}
2025-11-17 00:15:39,836 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:21:35,262 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:22:05,119 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:22:29,888 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:37:26,194 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:37:50,127 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:37:51,635 - app_logger - INFO - REQUEST GET /admin | Body=
2025-11-17 00:37:51,636 - app_logger - INFO - Incoming request: GET /admin
2025-11-17 00:37:51,636 - app_logger - INFO - Completed GET /admin Status=307 Duration=0.75ms
2025-11-17 00:37:51,637 - app_logger - INFO - RESPONSE GET /admin | Status=307 | Duration=1.74ms | Body=
2025-11-17 00:37:51,640 - app_logger - INFO - REQUEST GET /admin/ | Body=
2025-11-17 00:37:51,640 - app_logger - INFO - Incoming request: GET /admin/
2025-11-17 00:37:51,651 - app_logger - INFO - Completed GET /admin/ Status=200 Duration=11.11ms
2025-11-17 00:37:51,654 - app_logger - INFO - RESPONSE GET /admin/ | Status=200 | Duration=13.76ms | Body=<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.15.8"><title>Astro Basics</title><link rel="stylesheet" href="/_astro/index.CqK5Poot.css"></head> <body class="bg-gray-100 h-screen w-screen flex">  <aside class="w-64 h-screen bg-gradient-to-b from-indigo-900 via-purple-900 to-indigo-900 text-white p-6 flex flex-col gap-6 shadow-2xl"> <nav class="flex flex-col gap-2"> <a href="/admin" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Dashboard</span> </a> <a href="/admin/cache" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Cache Manager</span> </a> <a href="/admin/prompts" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">System Prompts</span> </a> <a href="/admin/history" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Prompts History</span> </a> <a href="/admin/logs" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Logs</span> </a> <a href="/admin/model" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Model Settings</span> </a> </nav> </aside> <main class="flex-1 flex flex-col bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"> <header class="w-full flex items-center justify-between px-6 py-4 bg-white/80 backdrop-blur-md border-b border-gray-200/50 shadow-sm"> <h1 class="text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
Admin Dashboard
</h1> <div class="text-gray-600 text-sm font-medium">LLM-DB Connector Admin</div> </header> <section class="p-8 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"> <!-- Cache Manager Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-blue-400/10 to-purple-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">Cache Manager</h2> <p class="text-gray-600 text-sm">Manage cached schemas & tables.</p> </div> </div> <!-- System Prompts Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-purple-400/10 to-pink-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">System Prompts</h2> <p class="text-gray-600 text-sm">Edit the active system prompt.</p> </div> </div> <!-- Prompts History Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-green-400/10 to-emerald-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">Prompts History</h2> <p class="text-gray-600 text-sm">
Review all user-generated prompts.
</p> </div> </div> <!-- Logs Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-orange-400/10 to-red-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">Logs</h2> <p class="text-gray-600 text-sm">View backend activity logs.</p> </div> </div> <!-- Model Settings Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-cyan-400/10 to-blue-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">Model Settings</h2> <p class="text-gray-600 text-sm">Manage model configuration.</p> </div> </div> </section> </main>  </body></html> <!-- Sidebar Component --> 
2025-11-17 00:37:51,699 - app_logger - INFO - REQUEST GET /_astro/index.CqK5Poot.css | Body=
2025-11-17 00:37:51,699 - app_logger - INFO - Incoming request: GET /_astro/index.CqK5Poot.css
2025-11-17 00:37:51,700 - app_logger - INFO - Completed GET /_astro/index.CqK5Poot.css Status=404 Duration=0.52ms
2025-11-17 00:37:51,700 - app_logger - INFO - RESPONSE GET /_astro/index.CqK5Poot.css | Status=404 | Duration=1.39ms | Body={"detail":"Not Found"}
2025-11-17 00:37:51,990 - app_logger - INFO - REQUEST GET /favicon.svg | Body=
2025-11-17 00:37:51,991 - app_logger - INFO - Incoming request: GET /favicon.svg
2025-11-17 00:37:51,991 - app_logger - INFO - Completed GET /favicon.svg Status=404 Duration=0.57ms
2025-11-17 00:37:51,992 - app_logger - INFO - RESPONSE GET /favicon.svg | Status=404 | Duration=1.54ms | Body={"detail":"Not Found"}
2025-11-17 00:38:01,524 - app_logger - INFO - REQUEST GET /admin/ | Body=
2025-11-17 00:38:01,525 - app_logger - INFO - Incoming request: GET /admin/
2025-11-17 00:38:01,533 - app_logger - INFO - Completed GET /admin/ Status=304 Duration=8.63ms
2025-11-17 00:38:01,534 - app_logger - INFO - RESPONSE GET /admin/ | Status=304 | Duration=9.50ms | Body=
2025-11-17 00:38:01,554 - app_logger - INFO - REQUEST GET /_astro/index.CqK5Poot.css | Body=
2025-11-17 00:38:01,554 - app_logger - INFO - Incoming request: GET /_astro/index.CqK5Poot.css
2025-11-17 00:38:01,555 - app_logger - INFO - Completed GET /_astro/index.CqK5Poot.css Status=404 Duration=0.71ms
2025-11-17 00:38:01,555 - app_logger - INFO - RESPONSE GET /_astro/index.CqK5Poot.css | Status=404 | Duration=1.56ms | Body={"detail":"Not Found"}
2025-11-17 00:39:11,078 - app_logger - INFO - REQUEST GET /admin/ | Body=
2025-11-17 00:39:11,078 - app_logger - INFO - Incoming request: GET /admin/
2025-11-17 00:39:11,087 - app_logger - INFO - Completed GET /admin/ Status=200 Duration=9.16ms
2025-11-17 00:39:11,089 - app_logger - INFO - RESPONSE GET /admin/ | Status=200 | Duration=11.41ms | Body=<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.15.8"><title>Astro Basics</title><link rel="stylesheet" href="/admin/_astro/index.CqK5Poot.css"></head> <body class="bg-gray-100 h-screen w-screen flex">  <aside class="w-64 h-screen bg-gradient-to-b from-indigo-900 via-purple-900 to-indigo-900 text-white p-6 flex flex-col gap-6 shadow-2xl"> <nav class="flex flex-col gap-2"> <a href="/admin" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Dashboard</span> </a> <a href="/admin/cache" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Cache Manager</span> </a> <a href="/admin/prompts" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">System Prompts</span> </a> <a href="/admin/history" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Prompts History</span> </a> <a href="/admin/logs" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Logs</span> </a> <a href="/admin/model" class="group flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 hover:translate-x-1"> <svg class="w-5 h-5 text-purple-300 group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path> </svg> <span class="text-purple-100 group-hover:text-white transition-colors">Model Settings</span> </a> </nav> </aside> <main class="flex-1 flex flex-col bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"> <header class="w-full flex items-center justify-between px-6 py-4 bg-white/80 backdrop-blur-md border-b border-gray-200/50 shadow-sm"> <h1 class="text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
Admin Dashboard
</h1> <div class="text-gray-600 text-sm font-medium">LLM-DB Connector Admin</div> </header> <section class="p-8 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"> <!-- Cache Manager Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-blue-400/10 to-purple-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">Cache Manager</h2> <p class="text-gray-600 text-sm">Manage cached schemas & tables.</p> </div> </div> <!-- System Prompts Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-purple-400/10 to-pink-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">System Prompts</h2> <p class="text-gray-600 text-sm">Edit the active system prompt.</p> </div> </div> <!-- Prompts History Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-green-400/10 to-emerald-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">Prompts History</h2> <p class="text-gray-600 text-sm">
Review all user-generated prompts.
</p> </div> </div> <!-- Logs Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-orange-400/10 to-red-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">Logs</h2> <p class="text-gray-600 text-sm">View backend activity logs.</p> </div> </div> <!-- Model Settings Card --> <div class="group relative overflow-hidden p-6 bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"> <div class="absolute inset-0 bg-gradient-to-br from-cyan-400/10 to-blue-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div> <div class="relative z-10"> <div class="w-12 h-12 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path> </svg> </div> <h2 class="font-bold text-xl text-gray-800 mb-2">Model Settings</h2> <p class="text-gray-600 text-sm">Manage model configuration.</p> </div> </div> </section> </main>  </body></html> <!-- Sidebar Component --> 
2025-11-17 00:39:11,112 - app_logger - INFO - REQUEST GET /admin/_astro/index.CqK5Poot.css | Body=
2025-11-17 00:39:11,113 - app_logger - INFO - Incoming request: GET /admin/_astro/index.CqK5Poot.css
2025-11-17 00:39:11,119 - app_logger - INFO - Completed GET /admin/_astro/index.CqK5Poot.css Status=200 Duration=6.66ms
2025-11-17 00:39:11,122 - app_logger - INFO - RESPONSE GET /admin/_astro/index.CqK5Poot.css | Status=200 | Duration=9.36ms | Body=/*! tailwindcss v4.1.17 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-400:oklch(70.4% .191 22.216);--color-orange-400:oklch(75% .183 55.934);--color-orange-500:oklch(70.5% .213 47.604);--color-orange-600:oklch(64.6% .222 41.116);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-green-600:oklch(62.7% .194 149.214);--color-emerald-400:oklch(76.5% .177 163.223);--color-cyan-400:oklch(78.9% .154 211.53);--color-cyan-500:oklch(71.5% .143 215.221);--color-cyan-600:oklch(60.9% .126 221.723);--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-indigo-50:oklch(96.2% .018 272.314);--color-indigo-600:oklch(51.1% .262 276.966);--color-indigo-900:oklch(35.9% .144 278.697);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-300:oklch(82.7% .119 306.383);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-500:oklch(62.7% .265 303.9);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-900:oklch(38.1% .176 304.987);--color-pink-50:oklch(97.1% .014 343.198);--color-pink-400:oklch(71.8% .202 349.761);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-800:oklch(27.8% .033 256.848);--color-white:#fff;--spacing:.25rem;--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--font-weight-medium:500;--font-weight-bold:700;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--blur-md:12px;--blur-lg:16px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.absolute{position:absolute}.relative{position:relative}.static{position:static}.inset-0{inset:calc(var(--spacing)*0)}.z-10{z-index:10}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.flex{display:flex}.grid{display:grid}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-12{height:calc(var(--spacing)*12)}.h-screen{height:100vh}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-12{width:calc(var(--spacing)*12)}.w-64{width:calc(var(--spacing)*64)}.w-full{width:100%}.w-screen{width:100vw}.flex-1{flex:1}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-6{gap:calc(var(--spacing)*6)}.overflow-hidden{overflow:hidden}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-gray-200\/50{border-color:#e5e7eb80}@supports (color:color-mix(in lab,red,red)){.border-gray-200\/50{border-color:color-mix(in oklab,var(--color-gray-200)50%,transparent)}}.border-white\/20{border-color:#fff3}@supports (color:color-mix(in lab,red,red)){.border-white\/20{border-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.bg-gray-100{background-color:var(--color-gray-100)}.bg-white\/70{background-color:#ffffffb3}@supports (color:color-mix(in lab,red,red)){.bg-white\/70{background-color:color-mix(in oklab,var(--color-white)70%,transparent)}}.bg-white\/80{background-color:#fffc}@supports (color:color-mix(in lab,red,red)){.bg-white\/80{background-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-gradient-to-b{--tw-gradient-position:to bottom in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-blue-400\/10{--tw-gradient-from:#54a2ff1a}@supports (color:color-mix(in lab,red,red)){.from-blue-400\/10{--tw-gradient-from:color-mix(in oklab,var(--color-blue-400)10%,transparent)}}.from-blue-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-blue-500{--tw-gradient-from:var(--color-blue-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-cyan-400\/10{--tw-gradient-from:#00d2ef1a}@supports (color:color-mix(in lab,red,red)){.from-cyan-400\/10{--tw-gradient-from:color-mix(in oklab,var(--color-cyan-400)10%,transparent)}}.from-cyan-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-cyan-500{--tw-gradient-from:var(--color-cyan-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-green-400\/10{--tw-gradient-from:#05df721a}@supports (color:color-mix(in lab,red,red)){.from-green-400\/10{--tw-gradient-from:color-mix(in oklab,var(--color-green-400)10%,transparent)}}.from-green-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-green-500{--tw-gradient-from:var(--color-green-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-indigo-50{--tw-gradient-from:var(--color-indigo-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-indigo-600{--tw-gradient-from:var(--color-indigo-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-indigo-900{--tw-gradient-from:var(--color-indigo-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-orange-400\/10{--tw-gradient-from:#ff8b1a1a}@supports (color:color-mix(in lab,red,red)){.from-orange-400\/10{--tw-gradient-from:color-mix(in oklab,var(--color-orange-400)10%,transparent)}}.from-orange-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-orange-500{--tw-gradient-from:var(--color-orange-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-400\/10{--tw-gradient-from:#c07eff1a}@supports (color:color-mix(in lab,red,red)){.from-purple-400\/10{--tw-gradient-from:color-mix(in oklab,var(--color-purple-400)10%,transparent)}}.from-purple-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-500{--tw-gradient-from:var(--color-purple-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.via-purple-50{--tw-gradient-via:var(--color-purple-50);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-purple-900{--tw-gradient-via:var(--color-purple-900);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.to-blue-400\/10{--tw-gradient-to:#54a2ff1a}@supports (color:color-mix(in lab,red,red)){.to-blue-400\/10{--tw-gradient-to:color-mix(in oklab,var(--color-blue-400)10%,transparent)}}.to-blue-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-blue-600{--tw-gradient-to:var(--color-blue-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-cyan-600{--tw-gradient-to:var(--color-cyan-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-emerald-400\/10{--tw-gradient-to:#00d2941a}@supports (color:color-mix(in lab,red,red)){.to-emerald-400\/10{--tw-gradient-to:color-mix(in oklab,var(--color-emerald-400)10%,transparent)}}.to-emerald-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-green-600{--tw-gradient-to:var(--color-green-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-indigo-900{--tw-gradient-to:var(--color-indigo-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-orange-600{--tw-gradient-to:var(--color-orange-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-pink-50{--tw-gradient-to:var(--color-pink-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-pink-400\/10{--tw-gradient-to:#fb64b61a}@supports (color:color-mix(in lab,red,red)){.to-pink-400\/10{--tw-gradient-to:color-mix(in oklab,var(--color-pink-400)10%,transparent)}}.to-pink-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-400\/10{--tw-gradient-to:#c07eff1a}@supports (color:color-mix(in lab,red,red)){.to-purple-400\/10{--tw-gradient-to:color-mix(in oklab,var(--color-purple-400)10%,transparent)}}.to-purple-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-600{--tw-gradient-to:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-red-400\/10{--tw-gradient-to:#ff65681a}@supports (color:color-mix(in lab,red,red)){.to-red-400\/10{--tw-gradient-to:color-mix(in oklab,var(--color-red-400)10%,transparent)}}.to-red-400\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.text-gray-600{color:var(--color-gray-600)}.text-gray-800{color:var(--color-gray-800)}.text-purple-100{color:var(--color-purple-100)}.text-purple-300{color:var(--color-purple-300)}.text-transparent{color:#0000}.text-white{color:var(--color-white)}.opacity-0{opacity:0}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-lg{--tw-backdrop-blur:blur(var(--blur-lg));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}@media(hover:hover){.group-hover\:scale-110:is(:where(.group):hover *){--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.group-hover\:text-white:is(:where(.group):hover *){color:var(--color-white)}.group-hover\:opacity-100:is(:where(.group):hover *){opacity:1}.hover\:translate-x-1:hover{--tw-translate-x:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.hover\:-translate-y-1:hover{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.hover\:bg-white\/10:hover{background-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.hover\:bg-white\/10:hover{background-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.hover\:shadow-2xl:hover{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}@media(min-width:48rem){.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(min-width:80rem){.xl\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}aside{background:linear-gradient(180deg,#1e1b4b,#312e81)}

2025-11-17 00:39:14,255 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 00:39:14,255 - app_logger - INFO - Incoming request: GET /
2025-11-17 00:39:14,256 - app_logger - INFO - Completed GET / Status=404 Duration=0.57ms
2025-11-17 00:39:14,256 - app_logger - INFO - RESPONSE GET / | Status=404 | Duration=1.30ms | Body={"detail":"Not Found"}
2025-11-17 00:40:40,182 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:40:41,093 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 00:40:41,093 - app_logger - INFO - Incoming request: GET /
2025-11-17 00:40:41,094 - app_logger - INFO - Completed GET / Status=404 Duration=0.54ms
2025-11-17 00:40:41,094 - app_logger - INFO - RESPONSE GET / | Status=404 | Duration=1.35ms | Body={"detail":"Not Found"}
2025-11-17 00:40:50,679 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 00:40:50,680 - app_logger - INFO - Incoming request: GET /
2025-11-17 00:40:50,681 - app_logger - INFO - Completed GET / Status=404 Duration=0.80ms
2025-11-17 00:40:50,681 - app_logger - INFO - RESPONSE GET / | Status=404 | Duration=2.37ms | Body={"detail":"Not Found"}
2025-11-17 00:40:50,888 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 00:40:50,888 - app_logger - INFO - Incoming request: GET /
2025-11-17 00:40:50,889 - app_logger - INFO - Completed GET / Status=404 Duration=0.59ms
2025-11-17 00:40:50,889 - app_logger - INFO - RESPONSE GET / | Status=404 | Duration=1.47ms | Body={"detail":"Not Found"}
2025-11-17 00:41:51,919 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:41:53,024 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 00:41:53,024 - app_logger - INFO - Incoming request: GET /
2025-11-17 00:41:53,026 - app_logger - INFO - Completed GET / Status=200 Duration=1.40ms
2025-11-17 00:41:53,026 - app_logger - INFO - RESPONSE GET / | Status=200 | Duration=2.45ms | Body={"available_endpoints":[{"path":"/openapi.json","methods":["GET","HEAD"]},{"path":"/docs","methods":["GET","HEAD"]},{"path":"/docs/oauth2-redirect","methods":["GET","HEAD"]},{"path":"/redoc","methods":["GET","HEAD"]},{"path":"/","methods":["GET"]},{"path":"/connections/save","methods":["POST"]},{"path":"/connections/list","methods":["GET"]},{"path":"/connections/{connection_id}","methods":["DELETE"]},{"path":"/connections/use/{connection_id}","methods":["POST"]},{"path":"/connections/disconnect","methods":["POST"]},{"path":"/llmsql/generate_sql","methods":["POST"]},{"path":"/llmsql/execute_sql","methods":["POST"]},{"path":"/llmsql/history","methods":["GET"]},{"path":"/db/schema","methods":["GET"]},{"path":"/db/schemas","methods":["GET"]},{"path":"/db/tables","methods":["GET"]},{"path":"/db/columns","methods":["GET"]},{"path":"/cache/metadata/invalidate","methods":["POST"]},{"path":"/cache/metadata/status","methods":["GET"]},{"path":"/admin","methods":[]}]}
2025-11-17 00:42:00,006 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 00:42:00,007 - app_logger - INFO - Incoming request: GET /
2025-11-17 00:42:00,008 - app_logger - INFO - Completed GET / Status=200 Duration=1.27ms
2025-11-17 00:42:00,008 - app_logger - INFO - RESPONSE GET / | Status=200 | Duration=2.48ms | Body={"available_endpoints":[{"path":"/openapi.json","methods":["GET","HEAD"]},{"path":"/docs","methods":["GET","HEAD"]},{"path":"/docs/oauth2-redirect","methods":["GET","HEAD"]},{"path":"/redoc","methods":["GET","HEAD"]},{"path":"/","methods":["GET"]},{"path":"/connections/save","methods":["POST"]},{"path":"/connections/list","methods":["GET"]},{"path":"/connections/{connection_id}","methods":["DELETE"]},{"path":"/connections/use/{connection_id}","methods":["POST"]},{"path":"/connections/disconnect","methods":["POST"]},{"path":"/llmsql/generate_sql","methods":["POST"]},{"path":"/llmsql/execute_sql","methods":["POST"]},{"path":"/llmsql/history","methods":["GET"]},{"path":"/db/schema","methods":["GET"]},{"path":"/db/schemas","methods":["GET"]},{"path":"/db/tables","methods":["GET"]},{"path":"/db/columns","methods":["GET"]},{"path":"/cache/metadata/invalidate","methods":["POST"]},{"path":"/cache/metadata/status","methods":["GET"]},{"path":"/admin","methods":[]}]}
2025-11-17 00:42:37,018 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:42:38,742 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 00:42:38,742 - app_logger - INFO - Incoming request: GET /
2025-11-17 00:42:38,743 - app_logger - INFO - Completed GET / Status=200 Duration=1.38ms
2025-11-17 00:42:38,744 - app_logger - INFO - RESPONSE GET / | Status=200 | Duration=2.35ms | Body={"available_endpoints":[{"path":"/openapi.json"},{"path":"/docs"},{"path":"/docs/oauth2-redirect"},{"path":"/redoc"},{"path":"/"},{"path":"/connections/save"},{"path":"/connections/list"},{"path":"/connections/{connection_id}"},{"path":"/connections/use/{connection_id}"},{"path":"/connections/disconnect"},{"path":"/llmsql/generate_sql"},{"path":"/llmsql/execute_sql"},{"path":"/llmsql/history"},{"path":"/db/schema"},{"path":"/db/schemas"},{"path":"/db/tables"},{"path":"/db/columns"},{"path":"/cache/metadata/invalidate"},{"path":"/cache/metadata/status"},{"path":"/admin"}]}
2025-11-17 00:42:40,364 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 00:42:40,364 - app_logger - INFO - Incoming request: GET /
2025-11-17 00:42:40,366 - app_logger - INFO - Completed GET / Status=200 Duration=1.22ms
2025-11-17 00:42:40,366 - app_logger - INFO - RESPONSE GET / | Status=200 | Duration=2.50ms | Body={"available_endpoints":[{"path":"/openapi.json"},{"path":"/docs"},{"path":"/docs/oauth2-redirect"},{"path":"/redoc"},{"path":"/"},{"path":"/connections/save"},{"path":"/connections/list"},{"path":"/connections/{connection_id}"},{"path":"/connections/use/{connection_id}"},{"path":"/connections/disconnect"},{"path":"/llmsql/generate_sql"},{"path":"/llmsql/execute_sql"},{"path":"/llmsql/history"},{"path":"/db/schema"},{"path":"/db/schemas"},{"path":"/db/tables"},{"path":"/db/columns"},{"path":"/cache/metadata/invalidate"},{"path":"/cache/metadata/status"},{"path":"/admin"}]}
2025-11-17 00:42:44,507 - app_logger - INFO - REQUEST GET /docs | Body=
2025-11-17 00:42:44,507 - app_logger - INFO - Incoming request: GET /docs
2025-11-17 00:42:44,508 - app_logger - INFO - Completed GET /docs Status=200 Duration=0.43ms
2025-11-17 00:42:44,508 - app_logger - INFO - RESPONSE GET /docs | Status=200 | Duration=1.26ms | Body=
    <!DOCTYPE html>
    <html>
    <head>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css">
    <link rel="shortcut icon" href="https://fastapi.tiangolo.com/img/favicon.png">
    <title>LLM-DB CONNECTOR API - Swagger UI</title>
    </head>
    <body>
    <div id="swagger-ui">
    </div>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
    <!-- `SwaggerUIBundle` is now available on the page -->
    <script>
    const ui = SwaggerUIBundle({
        url: '/openapi.json',
    "dom_id": "#swagger-ui",
"layout": "BaseLayout",
"deepLinking": true,
"showExtensions": true,
"showCommonExtensions": true,
oauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',
    presets: [
        SwaggerUIBundle.presets.apis,
        SwaggerUIBundle.SwaggerUIStandalonePreset
        ],
    })
    </script>
    </body>
    </html>
    
2025-11-17 00:42:44,570 - app_logger - INFO - REQUEST GET /openapi.json | Body=
2025-11-17 00:42:44,570 - app_logger - INFO - Incoming request: GET /openapi.json
2025-11-17 00:42:44,590 - app_logger - INFO - Completed GET /openapi.json Status=200 Duration=19.60ms
2025-11-17 00:42:44,590 - app_logger - INFO - RESPONSE GET /openapi.json | Status=200 | Duration=20.42ms | Body={"openapi":"3.1.0","info":{"title":"LLM-DB CONNECTOR API","version":"1.0.0"},"paths":{"/":{"get":{"summary":"List Routes","operationId":"list_routes__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/connections/save":{"post":{"tags":["Database Connections"],"summary":"Save Connection","operationId":"save_connection_connections_save_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PGDBConnector"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/list":{"get":{"tags":["Database Connections"],"summary":"List Connections","operationId":"list_connections_connections_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/connections/{connection_id}":{"delete":{"tags":["Database Connections"],"summary":"Delete Connection","description":"Delete a connection by ID.","operationId":"delete_connection_connections__connection_id__delete","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/use/{connection_id}":{"post":{"tags":["Database Connections"],"summary":"Use Connection","description":"Activate and persist a connection by ID.","operationId":"use_connection_connections_use__connection_id__post","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/disconnect":{"post":{"tags":["Database Connections"],"summary":"Disconnect","description":"Close current connection.","operationId":"disconnect_connections_disconnect_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/llmsql/generate_sql":{"post":{"tags":["SQL Assistant"],"summary":"Generate Sql","description":"Generates SQL using the intelligent multi-step agent.\nIt will automatically inspect the DB using tools if needed.","operationId":"generate_sql_llmsql_generate_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/execute_sql":{"post":{"tags":["SQL Assistant"],"summary":"Execute Sql","description":"Executes the SQL safely through the internal database service.","operationId":"execute_sql_llmsql_execute_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/history":{"get":{"tags":["SQL Assistant"],"summary":"Get Sql History","operationId":"get_sql_history_llmsql_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/db/schema":{"get":{"tags":["Database Schema"],"summary":"Get Schema Grouped","description":"Returns the database schema grouped by table,\noptionally filtered by schema name (e.g. ?schema=public).","operationId":"get_schema_grouped_db_schema_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Schema name to filter (e.g. 'public')","title":"Schema"},"description":"Schema name to filter (e.g. 'public')"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/schemas":{"get":{"tags":["Database Schema"],"summary":"List Schemas","description":"Return all schema names in the database.","operationId":"list_schemas_db_schemas_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/db/tables":{"get":{"tags":["Database Schema"],"summary":"List Tables","description":"Return all table names from the given schema.","operationId":"list_tables_db_tables_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"type":"string","default":"public","title":"Schema"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/columns":{"get":{"tags":["Database Schema"],"summary":"Get Table Columns","description":"Return all columns for a specific table, including data type,\nnullability, default value, and key relationships.","operationId":"get_table_columns_db_columns_get","parameters":[{"name":"table","in":"query","required":true,"schema":{"type":"string","description":"Table name to extract columns from","title":"Table"},"description":"Table name to extract columns from"},{"name":"schema","in":"query","required":false,"schema":{"type":"string","description":"Schema name (default: public)","default":"public","title":"Schema"},"description":"Schema name (default: public)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/invalidate":{"post":{"tags":["cache"],"summary":"Invalidate Metadata Cache","operationId":"invalidate_metadata_cache_cache_metadata_invalidate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataCacheInvalidateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/status":{"get":{"tags":["cache"],"summary":"Get Metadata Cache Status","operationId":"get_metadata_cache_status_cache_metadata_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ExecuteRequest":{"properties":{"sql":{"type":"string","title":"Sql"}},"type":"object","required":["sql"],"title":"ExecuteRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MetadataCacheInvalidateRequest":{"properties":{"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schema"},"table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Table"}},"type":"object","title":"MetadataCacheInvalidateRequest"},"PGDBConnector":{"properties":{"host":{"type":"string","title":"Host"},"port":{"type":"integer","title":"Port"},"user":{"type":"string","title":"User"},"password":{"type":"string","title":"Password"},"database":{"type":"string","title":"Database"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["host","port","user","password","database"],"title":"PGDBConnector"},"PasswordBody":{"properties":{"password":{"type":"string","title":"Password"}},"type":"object","required":["password"],"title":"PasswordBody"},"QueryRequest":{"properties":{"user_input":{"type":"string","title":"User Input"}},"type":"object","required":["user_input"],"title":"QueryRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
2025-11-17 00:42:49,950 - app_logger - INFO - REQUEST GET /openai.json | Body=
2025-11-17 00:42:49,950 - app_logger - INFO - Incoming request: GET /openai.json
2025-11-17 00:42:49,950 - app_logger - INFO - Completed GET /openai.json Status=404 Duration=0.50ms
2025-11-17 00:42:49,951 - app_logger - INFO - RESPONSE GET /openai.json | Status=404 | Duration=1.25ms | Body={"detail":"Not Found"}
2025-11-17 00:42:58,316 - app_logger - INFO - REQUEST GET /openapi.json | Body=
2025-11-17 00:42:58,318 - app_logger - INFO - Incoming request: GET /openapi.json
2025-11-17 00:42:58,319 - app_logger - INFO - Completed GET /openapi.json Status=200 Duration=1.05ms
2025-11-17 00:42:58,319 - app_logger - INFO - RESPONSE GET /openapi.json | Status=200 | Duration=3.26ms | Body={"openapi":"3.1.0","info":{"title":"LLM-DB CONNECTOR API","version":"1.0.0"},"paths":{"/":{"get":{"summary":"List Routes","operationId":"list_routes__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/connections/save":{"post":{"tags":["Database Connections"],"summary":"Save Connection","operationId":"save_connection_connections_save_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PGDBConnector"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/list":{"get":{"tags":["Database Connections"],"summary":"List Connections","operationId":"list_connections_connections_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/connections/{connection_id}":{"delete":{"tags":["Database Connections"],"summary":"Delete Connection","description":"Delete a connection by ID.","operationId":"delete_connection_connections__connection_id__delete","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/use/{connection_id}":{"post":{"tags":["Database Connections"],"summary":"Use Connection","description":"Activate and persist a connection by ID.","operationId":"use_connection_connections_use__connection_id__post","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/disconnect":{"post":{"tags":["Database Connections"],"summary":"Disconnect","description":"Close current connection.","operationId":"disconnect_connections_disconnect_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/llmsql/generate_sql":{"post":{"tags":["SQL Assistant"],"summary":"Generate Sql","description":"Generates SQL using the intelligent multi-step agent.\nIt will automatically inspect the DB using tools if needed.","operationId":"generate_sql_llmsql_generate_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/execute_sql":{"post":{"tags":["SQL Assistant"],"summary":"Execute Sql","description":"Executes the SQL safely through the internal database service.","operationId":"execute_sql_llmsql_execute_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/history":{"get":{"tags":["SQL Assistant"],"summary":"Get Sql History","operationId":"get_sql_history_llmsql_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/db/schema":{"get":{"tags":["Database Schema"],"summary":"Get Schema Grouped","description":"Returns the database schema grouped by table,\noptionally filtered by schema name (e.g. ?schema=public).","operationId":"get_schema_grouped_db_schema_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Schema name to filter (e.g. 'public')","title":"Schema"},"description":"Schema name to filter (e.g. 'public')"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/schemas":{"get":{"tags":["Database Schema"],"summary":"List Schemas","description":"Return all schema names in the database.","operationId":"list_schemas_db_schemas_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/db/tables":{"get":{"tags":["Database Schema"],"summary":"List Tables","description":"Return all table names from the given schema.","operationId":"list_tables_db_tables_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"type":"string","default":"public","title":"Schema"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/columns":{"get":{"tags":["Database Schema"],"summary":"Get Table Columns","description":"Return all columns for a specific table, including data type,\nnullability, default value, and key relationships.","operationId":"get_table_columns_db_columns_get","parameters":[{"name":"table","in":"query","required":true,"schema":{"type":"string","description":"Table name to extract columns from","title":"Table"},"description":"Table name to extract columns from"},{"name":"schema","in":"query","required":false,"schema":{"type":"string","description":"Schema name (default: public)","default":"public","title":"Schema"},"description":"Schema name (default: public)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/invalidate":{"post":{"tags":["cache"],"summary":"Invalidate Metadata Cache","operationId":"invalidate_metadata_cache_cache_metadata_invalidate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataCacheInvalidateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/status":{"get":{"tags":["cache"],"summary":"Get Metadata Cache Status","operationId":"get_metadata_cache_status_cache_metadata_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ExecuteRequest":{"properties":{"sql":{"type":"string","title":"Sql"}},"type":"object","required":["sql"],"title":"ExecuteRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MetadataCacheInvalidateRequest":{"properties":{"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schema"},"table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Table"}},"type":"object","title":"MetadataCacheInvalidateRequest"},"PGDBConnector":{"properties":{"host":{"type":"string","title":"Host"},"port":{"type":"integer","title":"Port"},"user":{"type":"string","title":"User"},"password":{"type":"string","title":"Password"},"database":{"type":"string","title":"Database"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["host","port","user","password","database"],"title":"PGDBConnector"},"PasswordBody":{"properties":{"password":{"type":"string","title":"Password"}},"type":"object","required":["password"],"title":"PasswordBody"},"QueryRequest":{"properties":{"user_input":{"type":"string","title":"User Input"}},"type":"object","required":["user_input"],"title":"QueryRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
2025-11-17 00:43:32,848 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 00:43:36,917 - app_logger - INFO - REQUEST GET /docs | Body=
2025-11-17 00:43:36,917 - app_logger - INFO - Incoming request: GET /docs
2025-11-17 00:43:36,918 - app_logger - INFO - Completed GET /docs Status=200 Duration=0.53ms
2025-11-17 00:43:36,918 - app_logger - INFO - RESPONSE GET /docs | Status=200 | Duration=1.39ms | Body=
    <!DOCTYPE html>
    <html>
    <head>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css">
    <link rel="shortcut icon" href="https://fastapi.tiangolo.com/img/favicon.png">
    <title>LLM-DB CONNECTOR API - Swagger UI</title>
    </head>
    <body>
    <div id="swagger-ui">
    </div>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
    <!-- `SwaggerUIBundle` is now available on the page -->
    <script>
    const ui = SwaggerUIBundle({
        url: '/openapi.json',
    "dom_id": "#swagger-ui",
"layout": "BaseLayout",
"deepLinking": true,
"showExtensions": true,
"showCommonExtensions": true,
oauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',
    presets: [
        SwaggerUIBundle.presets.apis,
        SwaggerUIBundle.SwaggerUIStandalonePreset
        ],
    })
    </script>
    </body>
    </html>
    
2025-11-17 00:43:36,982 - app_logger - INFO - REQUEST GET /openapi.json | Body=
2025-11-17 00:43:36,982 - app_logger - INFO - Incoming request: GET /openapi.json
2025-11-17 00:43:37,000 - app_logger - INFO - Completed GET /openapi.json Status=200 Duration=17.95ms
2025-11-17 00:43:37,000 - app_logger - INFO - RESPONSE GET /openapi.json | Status=200 | Duration=18.76ms | Body={"openapi":"3.1.0","info":{"title":"LLM-DB CONNECTOR API","version":"1.0.0"},"paths":{"/":{"get":{"summary":"List Routes","operationId":"list_routes__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/connections/save":{"post":{"tags":["Database Connections"],"summary":"Save Connection","operationId":"save_connection_connections_save_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PGDBConnector"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/list":{"get":{"tags":["Database Connections"],"summary":"List Connections","operationId":"list_connections_connections_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/connections/{connection_id}":{"delete":{"tags":["Database Connections"],"summary":"Delete Connection","description":"Delete a connection by ID.","operationId":"delete_connection_connections__connection_id__delete","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/use/{connection_id}":{"post":{"tags":["Database Connections"],"summary":"Use Connection","description":"Activate and persist a connection by ID.","operationId":"use_connection_connections_use__connection_id__post","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/disconnect":{"post":{"tags":["Database Connections"],"summary":"Disconnect","description":"Close current connection.","operationId":"disconnect_connections_disconnect_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/llmsql/generate_sql":{"post":{"tags":["SQL Assistant"],"summary":"Generate Sql","description":"Generates SQL using the intelligent multi-step agent.\nIt will automatically inspect the DB using tools if needed.","operationId":"generate_sql_llmsql_generate_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/execute_sql":{"post":{"tags":["SQL Assistant"],"summary":"Execute Sql","description":"Executes the SQL safely through the internal database service.","operationId":"execute_sql_llmsql_execute_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/history":{"get":{"tags":["SQL Assistant"],"summary":"Get Sql History","operationId":"get_sql_history_llmsql_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/db/schema":{"get":{"tags":["Database Schema"],"summary":"Get Schema Grouped","description":"Returns the database schema grouped by table,\noptionally filtered by schema name (e.g. ?schema=public).","operationId":"get_schema_grouped_db_schema_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Schema name to filter (e.g. 'public')","title":"Schema"},"description":"Schema name to filter (e.g. 'public')"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/schemas":{"get":{"tags":["Database Schema"],"summary":"List Schemas","description":"Return all schema names in the database.","operationId":"list_schemas_db_schemas_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/db/tables":{"get":{"tags":["Database Schema"],"summary":"List Tables","description":"Return all table names from the given schema.","operationId":"list_tables_db_tables_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"type":"string","default":"public","title":"Schema"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/columns":{"get":{"tags":["Database Schema"],"summary":"Get Table Columns","description":"Return all columns for a specific table, including data type,\nnullability, default value, and key relationships.","operationId":"get_table_columns_db_columns_get","parameters":[{"name":"table","in":"query","required":true,"schema":{"type":"string","description":"Table name to extract columns from","title":"Table"},"description":"Table name to extract columns from"},{"name":"schema","in":"query","required":false,"schema":{"type":"string","description":"Schema name (default: public)","default":"public","title":"Schema"},"description":"Schema name (default: public)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/invalidate":{"post":{"tags":["cache"],"summary":"Invalidate Metadata Cache","operationId":"invalidate_metadata_cache_cache_metadata_invalidate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataCacheInvalidateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/status":{"get":{"tags":["cache"],"summary":"Get Metadata Cache Status","operationId":"get_metadata_cache_status_cache_metadata_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ExecuteRequest":{"properties":{"sql":{"type":"string","title":"Sql"}},"type":"object","required":["sql"],"title":"ExecuteRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MetadataCacheInvalidateRequest":{"properties":{"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schema"},"table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Table"}},"type":"object","title":"MetadataCacheInvalidateRequest"},"PGDBConnector":{"properties":{"host":{"type":"string","title":"Host"},"port":{"type":"integer","title":"Port"},"user":{"type":"string","title":"User"},"password":{"type":"string","title":"Password"},"database":{"type":"string","title":"Database"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["host","port","user","password","database"],"title":"PGDBConnector"},"PasswordBody":{"properties":{"password":{"type":"string","title":"Password"}},"type":"object","required":["password"],"title":"PasswordBody"},"QueryRequest":{"properties":{"user_input":{"type":"string","title":"User Input"}},"type":"object","required":["user_input"],"title":"QueryRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
2025-11-17 00:43:39,634 - app_logger - INFO - REQUEST GET /redoc | Body=
2025-11-17 00:43:39,634 - app_logger - INFO - Incoming request: GET /redoc
2025-11-17 00:43:39,635 - app_logger - INFO - Completed GET /redoc Status=200 Duration=0.38ms
2025-11-17 00:43:39,635 - app_logger - INFO - RESPONSE GET /redoc | Status=200 | Duration=1.19ms | Body=
    <!DOCTYPE html>
    <html>
    <head>
    <title>LLM-DB CONNECTOR API - ReDoc</title>
    <!-- needed for adaptive design -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">
    
    <link rel="shortcut icon" href="https://fastapi.tiangolo.com/img/favicon.png">
    <!--
    ReDoc doesn't change outer page styles
    -->
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>
    </head>
    <body>
    <noscript>
        ReDoc requires Javascript to function. Please enable it to browse the documentation.
    </noscript>
    <redoc spec-url="/openapi.json"></redoc>
    <script src="https://cdn.jsdelivr.net/npm/redoc@next/bundles/redoc.standalone.js"> </script>
    </body>
    </html>
    
2025-11-17 00:43:44,553 - app_logger - INFO - REQUEST GET /redoc | Body=
2025-11-17 00:43:44,553 - app_logger - INFO - Incoming request: GET /redoc
2025-11-17 00:43:44,554 - app_logger - INFO - Completed GET /redoc Status=200 Duration=0.45ms
2025-11-17 00:43:44,554 - app_logger - INFO - RESPONSE GET /redoc | Status=200 | Duration=1.32ms | Body=
    <!DOCTYPE html>
    <html>
    <head>
    <title>LLM-DB CONNECTOR API - ReDoc</title>
    <!-- needed for adaptive design -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">
    
    <link rel="shortcut icon" href="https://fastapi.tiangolo.com/img/favicon.png">
    <!--
    ReDoc doesn't change outer page styles
    -->
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>
    </head>
    <body>
    <noscript>
        ReDoc requires Javascript to function. Please enable it to browse the documentation.
    </noscript>
    <redoc spec-url="/openapi.json"></redoc>
    <script src="https://cdn.jsdelivr.net/npm/redoc@next/bundles/redoc.standalone.js"> </script>
    </body>
    </html>
    
2025-11-17 00:46:21,490 - app_logger - INFO - REQUEST GET /redoc | Body=
2025-11-17 00:46:21,491 - app_logger - INFO - Incoming request: GET /redoc
2025-11-17 00:46:21,492 - app_logger - INFO - Completed GET /redoc Status=200 Duration=0.80ms
2025-11-17 00:46:21,493 - app_logger - INFO - RESPONSE GET /redoc | Status=200 | Duration=2.35ms | Body=
    <!DOCTYPE html>
    <html>
    <head>
    <title>LLM-DB CONNECTOR API - ReDoc</title>
    <!-- needed for adaptive design -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">
    
    <link rel="shortcut icon" href="https://fastapi.tiangolo.com/img/favicon.png">
    <!--
    ReDoc doesn't change outer page styles
    -->
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>
    </head>
    <body>
    <noscript>
        ReDoc requires Javascript to function. Please enable it to browse the documentation.
    </noscript>
    <redoc spec-url="/openapi.json"></redoc>
    <script src="https://cdn.jsdelivr.net/npm/redoc@next/bundles/redoc.standalone.js"> </script>
    </body>
    </html>
    
2025-11-17 00:46:28,860 - app_logger - INFO - REQUEST GET /docs | Body=
2025-11-17 00:46:28,861 - app_logger - INFO - Incoming request: GET /docs
2025-11-17 00:46:28,862 - app_logger - INFO - Completed GET /docs Status=200 Duration=0.69ms
2025-11-17 00:46:28,862 - app_logger - INFO - RESPONSE GET /docs | Status=200 | Duration=1.73ms | Body=
    <!DOCTYPE html>
    <html>
    <head>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css">
    <link rel="shortcut icon" href="https://fastapi.tiangolo.com/img/favicon.png">
    <title>LLM-DB CONNECTOR API - Swagger UI</title>
    </head>
    <body>
    <div id="swagger-ui">
    </div>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
    <!-- `SwaggerUIBundle` is now available on the page -->
    <script>
    const ui = SwaggerUIBundle({
        url: '/openapi.json',
    "dom_id": "#swagger-ui",
"layout": "BaseLayout",
"deepLinking": true,
"showExtensions": true,
"showCommonExtensions": true,
oauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',
    presets: [
        SwaggerUIBundle.presets.apis,
        SwaggerUIBundle.SwaggerUIStandalonePreset
        ],
    })
    </script>
    </body>
    </html>
    
2025-11-17 00:46:28,923 - app_logger - INFO - REQUEST GET /openapi.json | Body=
2025-11-17 00:46:28,923 - app_logger - INFO - Incoming request: GET /openapi.json
2025-11-17 00:46:28,924 - app_logger - INFO - Completed GET /openapi.json Status=200 Duration=0.53ms
2025-11-17 00:46:28,924 - app_logger - INFO - RESPONSE GET /openapi.json | Status=200 | Duration=1.31ms | Body={"openapi":"3.1.0","info":{"title":"LLM-DB CONNECTOR API","version":"1.0.0"},"paths":{"/":{"get":{"summary":"List Routes","operationId":"list_routes__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/connections/save":{"post":{"tags":["Database Connections"],"summary":"Save Connection","operationId":"save_connection_connections_save_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PGDBConnector"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/list":{"get":{"tags":["Database Connections"],"summary":"List Connections","operationId":"list_connections_connections_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/connections/{connection_id}":{"delete":{"tags":["Database Connections"],"summary":"Delete Connection","description":"Delete a connection by ID.","operationId":"delete_connection_connections__connection_id__delete","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/use/{connection_id}":{"post":{"tags":["Database Connections"],"summary":"Use Connection","description":"Activate and persist a connection by ID.","operationId":"use_connection_connections_use__connection_id__post","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/connections/disconnect":{"post":{"tags":["Database Connections"],"summary":"Disconnect","description":"Close current connection.","operationId":"disconnect_connections_disconnect_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/llmsql/generate_sql":{"post":{"tags":["SQL Assistant"],"summary":"Generate Sql","description":"Generates SQL using the intelligent multi-step agent.\nIt will automatically inspect the DB using tools if needed.","operationId":"generate_sql_llmsql_generate_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/execute_sql":{"post":{"tags":["SQL Assistant"],"summary":"Execute Sql","description":"Executes the SQL safely through the internal database service.","operationId":"execute_sql_llmsql_execute_sql_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llmsql/history":{"get":{"tags":["SQL Assistant"],"summary":"Get Sql History","operationId":"get_sql_history_llmsql_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/db/schema":{"get":{"tags":["Database Schema"],"summary":"Get Schema Grouped","description":"Returns the database schema grouped by table,\noptionally filtered by schema name (e.g. ?schema=public).","operationId":"get_schema_grouped_db_schema_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Schema name to filter (e.g. 'public')","title":"Schema"},"description":"Schema name to filter (e.g. 'public')"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/schemas":{"get":{"tags":["Database Schema"],"summary":"List Schemas","description":"Return all schema names in the database.","operationId":"list_schemas_db_schemas_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/db/tables":{"get":{"tags":["Database Schema"],"summary":"List Tables","description":"Return all table names from the given schema.","operationId":"list_tables_db_tables_get","parameters":[{"name":"schema","in":"query","required":false,"schema":{"type":"string","default":"public","title":"Schema"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/db/columns":{"get":{"tags":["Database Schema"],"summary":"Get Table Columns","description":"Return all columns for a specific table, including data type,\nnullability, default value, and key relationships.","operationId":"get_table_columns_db_columns_get","parameters":[{"name":"table","in":"query","required":true,"schema":{"type":"string","description":"Table name to extract columns from","title":"Table"},"description":"Table name to extract columns from"},{"name":"schema","in":"query","required":false,"schema":{"type":"string","description":"Schema name (default: public)","default":"public","title":"Schema"},"description":"Schema name (default: public)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/invalidate":{"post":{"tags":["cache"],"summary":"Invalidate Metadata Cache","operationId":"invalidate_metadata_cache_cache_metadata_invalidate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataCacheInvalidateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cache/metadata/status":{"get":{"tags":["cache"],"summary":"Get Metadata Cache Status","operationId":"get_metadata_cache_status_cache_metadata_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ExecuteRequest":{"properties":{"sql":{"type":"string","title":"Sql"}},"type":"object","required":["sql"],"title":"ExecuteRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MetadataCacheInvalidateRequest":{"properties":{"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schema"},"table":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Table"}},"type":"object","title":"MetadataCacheInvalidateRequest"},"PGDBConnector":{"properties":{"host":{"type":"string","title":"Host"},"port":{"type":"integer","title":"Port"},"user":{"type":"string","title":"User"},"password":{"type":"string","title":"Password"},"database":{"type":"string","title":"Database"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["host","port","user","password","database"],"title":"PGDBConnector"},"PasswordBody":{"properties":{"password":{"type":"string","title":"Password"}},"type":"object","required":["password"],"title":"PasswordBody"},"QueryRequest":{"properties":{"user_input":{"type":"string","title":"User Input"}},"type":"object","required":["user_input"],"title":"QueryRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
2025-11-17 00:46:31,972 - app_logger - INFO - REQUEST GET /admin | Body=
2025-11-17 00:46:31,972 - app_logger - INFO - Incoming request: GET /admin
2025-11-17 00:46:31,973 - app_logger - INFO - Completed GET /admin Status=307 Duration=0.88ms
2025-11-17 00:46:31,974 - app_logger - INFO - RESPONSE GET /admin | Status=307 | Duration=1.71ms | Body=
2025-11-17 00:46:31,979 - app_logger - INFO - REQUEST GET /admin/ | Body=
2025-11-17 00:46:31,979 - app_logger - INFO - Incoming request: GET /admin/
2025-11-17 00:46:31,992 - app_logger - INFO - Completed GET /admin/ Status=304 Duration=12.69ms
2025-11-17 00:46:31,992 - app_logger - INFO - RESPONSE GET /admin/ | Status=304 | Duration=13.65ms | Body=
2025-11-17 00:46:32,011 - app_logger - INFO - REQUEST GET /admin/_astro/index.CqK5Poot.css | Body=
2025-11-17 00:46:32,011 - app_logger - INFO - Incoming request: GET /admin/_astro/index.CqK5Poot.css
2025-11-17 00:46:32,019 - app_logger - INFO - Completed GET /admin/_astro/index.CqK5Poot.css Status=304 Duration=7.67ms
2025-11-17 00:46:32,019 - app_logger - INFO - RESPONSE GET /admin/_astro/index.CqK5Poot.css | Status=304 | Duration=8.59ms | Body=
2025-11-17 00:46:34,830 - app_logger - INFO - REQUEST GET /admin | Body=
2025-11-17 00:46:34,830 - app_logger - INFO - Incoming request: GET /admin
2025-11-17 00:46:34,830 - app_logger - INFO - Completed GET /admin Status=307 Duration=0.53ms
2025-11-17 00:46:34,831 - app_logger - INFO - RESPONSE GET /admin | Status=307 | Duration=1.31ms | Body=
2025-11-17 00:46:35,738 - app_logger - INFO - REQUEST GET /admin | Body=
2025-11-17 00:46:35,738 - app_logger - INFO - Incoming request: GET /admin
2025-11-17 00:46:35,739 - app_logger - INFO - Completed GET /admin Status=307 Duration=0.47ms
2025-11-17 00:46:35,739 - app_logger - INFO - RESPONSE GET /admin | Status=307 | Duration=1.30ms | Body=
2025-11-17 00:46:35,981 - app_logger - INFO - REQUEST GET /admin | Body=
2025-11-17 00:46:35,981 - app_logger - INFO - Incoming request: GET /admin
2025-11-17 00:46:35,982 - app_logger - INFO - Completed GET /admin Status=307 Duration=0.50ms
2025-11-17 00:46:35,982 - app_logger - INFO - RESPONSE GET /admin | Status=307 | Duration=1.28ms | Body=
2025-11-17 00:46:36,093 - app_logger - INFO - REQUEST GET /admin | Body=
2025-11-17 00:46:36,094 - app_logger - INFO - Incoming request: GET /admin
2025-11-17 00:46:36,094 - app_logger - INFO - Completed GET /admin Status=307 Duration=0.56ms
2025-11-17 00:46:36,095 - app_logger - INFO - RESPONSE GET /admin | Status=307 | Duration=1.37ms | Body=
2025-11-17 00:46:36,503 - app_logger - INFO - REQUEST GET /admin | Body=
2025-11-17 00:46:36,503 - app_logger - INFO - Incoming request: GET /admin
2025-11-17 00:46:36,504 - app_logger - INFO - Completed GET /admin Status=307 Duration=0.59ms
2025-11-17 00:46:36,504 - app_logger - INFO - RESPONSE GET /admin | Status=307 | Duration=1.56ms | Body=
2025-11-17 18:54:46,036 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 19:02:37,187 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 19:03:04,997 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 19:16:41,768 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 19:17:10,923 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 19:17:38,528 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 23:53:52,925 - app_logger - INFO - SQLAssistantService initialized
2025-11-17 23:54:11,672 - app_logger - INFO - REQUEST GET / | Body=
2025-11-17 23:54:11,673 - app_logger - INFO - Incoming request: GET /
2025-11-17 23:54:11,674 - app_logger - INFO - Completed GET / Status=200 Duration=1.42ms
2025-11-17 23:54:11,675 - app_logger - INFO - RESPONSE GET / | Status=200 | Duration=2.74ms | Body={"available_endpoints":[{"path":"/openapi.json"},{"path":"/docs"},{"path":"/docs/oauth2-redirect"},{"path":"/redoc"},{"path":"/"},{"path":"/connections/save"},{"path":"/connections/list"},{"path":"/connections/{connection_id}"},{"path":"/connections/use/{connection_id}"},{"path":"/connections/disconnect"},{"path":"/llmsql/generate_sql"},{"path":"/llmsql/execute_sql"},{"path":"/llmsql/history"},{"path":"/db/schema"},{"path":"/db/schemas"},{"path":"/db/tables"},{"path":"/db/columns"},{"path":"/cache/metadata/invalidate"},{"path":"/cache/metadata/status"},{"path":"/admin"}]}
2025-11-17 23:54:11,873 - app_logger - INFO - REQUEST GET /favicon.ico | Body=
2025-11-17 23:54:11,873 - app_logger - INFO - Incoming request: GET /favicon.ico
2025-11-17 23:54:11,874 - app_logger - INFO - Completed GET /favicon.ico Status=404 Duration=0.76ms
2025-11-17 23:54:11,874 - app_logger - INFO - RESPONSE GET /favicon.ico | Status=404 | Duration=1.73ms | Body={"detail":"Not Found"}
