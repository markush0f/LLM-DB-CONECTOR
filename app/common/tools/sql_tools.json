[
    {
        "name": "list_schemas",
        "description": "Returns all non-system schemas in the active PostgreSQL database.",
        "parameters": {
            "type": "object",
            "properties": {},
            "required": []
        }
    },
    {
        "name": "list_tables",
        "description": "Returns all table names in the given schema.",
        "parameters": {
            "type": "object",
            "properties": {
                "schema": {
                    "type": "string",
                    "description": "Schema name, e.g. 'public'"
                }
            },
            "required": [
                "schema"
            ]
        }
    },
    {
        "name": "get_columns",
        "description": "Returns all columns for a specific table, including type, nullability, defaults, and key information when available.",
        "parameters": {
            "type": "object",
            "properties": {
                "schema": {
                    "type": "string",
                    "description": "Schema name, e.g. 'public'"
                },
                "table": {
                    "type": "string",
                    "description": "Table name"
                }
            },
            "required": [
                "schema",
                "table"
            ]
        }
    },
    {
        "name": "get_primary_keys",
        "description": "Returns primary key column names for a specific table.",
        "parameters": {
            "type": "object",
            "properties": {
                "schema": {
                    "type": "string",
                    "description": "Schema name"
                },
                "table": {
                    "type": "string",
                    "description": "Table name"
                }
            },
            "required": [
                "schema",
                "table"
            ]
        }
    },
    {
        "name": "get_foreign_keys",
        "description": "Returns foreign key constraints for a specific table, including referenced table and column.",
        "parameters": {
            "type": "object",
            "properties": {
                "schema": {
                    "type": "string",
                    "description": "Schema name"
                },
                "table": {
                    "type": "string",
                    "description": "Table name"
                }
            },
            "required": [
                "schema",
                "table"
            ]
        }
    },
    {
        "name": "describe_table",
        "description": "Returns a complete structured description of a table: columns, primary keys, and foreign keys.",
        "parameters": {
            "type": "object",
            "properties": {
                "schema": {
                    "type": "string",
                    "description": "Schema name"
                },
                "table": {
                    "type": "string",
                    "description": "Table name"
                }
            },
            "required": [
                "schema",
                "table"
            ]
        }
    },
    {
        "name": "describe_schema",
        "description": "Returns the full schema structure grouped by table, including columns, primary keys, and foreign keys.",
        "parameters": {
            "type": "object",
            "properties": {
                "schema": {
                    "type": "string",
                    "description": "Schema name"
                }
            },
            "required": [
                "schema"
            ]
        }
    },
    {
        "name": "get_table_sample",
        "description": "Returns a small sample of rows from a given table to understand its data contents.",
        "parameters": {
            "type": "object",
            "properties": {
                "schema": {
                    "type": "string",
                    "description": "Schema name"
                },
                "table": {
                    "type": "string",
                    "description": "Table name"
                },
                "limit": {
                    "type": "number",
                    "description": "Maximum number of rows to return",
                    "default": 5
                }
            },
            "required": [
                "schema",
                "table"
            ]
        }
    },
    {
        "name": "execute_query",
        "description": "Executes a read-only SQL query and returns the result. Use for SELECT or inspection queries only.",
        "parameters": {
            "type": "object",
            "properties": {
                "sql": {
                    "type": "string",
                    "description": "SQL query to execute (SELECT only)"
                }
            },
            "required": [
                "sql"
            ]
        }
    },
    {
        "name": "execute_sql_write",
        "description": "Executes a write/update/DDL SQL command (INSERT, UPDATE, DELETE, CREATE, ALTER, etc.). Should be used only when the user confirms the final SQL.",
        "parameters": {
            "type": "object",
            "properties": {
                "sql": {
                    "type": "string",
                    "description": "SQL command to execute"
                }
            },
            "required": [
                "sql"
            ]
        }
    }
]